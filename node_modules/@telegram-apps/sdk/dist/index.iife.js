this.telegramApps=this.telegramApps||{};this.telegramApps.sdk=function(o){"use strict";function Qr(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function Qf(e){}function Jf(e){}function Mc(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function Tc(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function ve(e,t,n,r,s){const i=s&&"input"in s?s.input:n.value,a=(s==null?void 0:s.expected)??e.expects??null,u=(s==null?void 0:s.received)??Tc(i),c={kind:e.kind,type:e.type,input:i,expected:a,received:u,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${u}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},l=e.kind==="schema",p=(s==null?void 0:s.message)??e.message??Mc(e.reference,c.lang)??(l?(c.lang,void 0):null)??r.message??(c.lang,void 0);p&&(c.message=typeof p=="function"?p(c):p),l&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function G(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Qr())}}}function Bc(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}var Oc=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Bt(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function ze(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function Jr(){return{kind:"schema",type:"any",reference:Jr,expects:"any",async:!1,get"~standard"(){return G(this)},"~run"(e){return e.typed=!0,e}}}function Ot(e){return{kind:"schema",type:"boolean",reference:Ot,expects:"boolean",async:!1,message:e,get"~standard"(){return G(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:ve(this,"type",t,n),t}}}function It(e){return{kind:"schema",type:"function",reference:It,expects:"Function",async:!1,message:e,get"~standard"(){return G(this)},"~run"(t,n){return typeof t.value=="function"?t.typed=!0:ve(this,"type",t,n),t}}}function Q(e,t){return{kind:"schema",type:"loose_object",reference:Q,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return G(this)},"~run"(n,r){var s;const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const a in this.entries){const u=this.entries[a];if(a in i||(u.type==="exact_optional"||u.type==="optional"||u.type==="nullish")&&u.default!==void 0){const c=a in i?i[a]:Bt(u),l=u["~run"]({value:c},r);if(l.issues){const p={type:"object",origin:"value",input:i,key:a,value:c};for(const d of l.issues)d.path?d.path.unshift(p):d.path=[p],(s=n.issues)==null||s.push(d);if(n.issues||(n.issues=l.issues),r.abortEarly){n.typed=!1;break}}l.typed||(n.typed=!1),n.value[a]=l.value}else if(u.type!=="exact_optional"&&u.type!=="optional"&&u.type!=="nullish"&&(ve(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:i,key:a,value:i[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in i)Bc(i,a)&&!(a in this.entries)&&(n.value[a]=i[a])}else ve(this,"type",n,r);return n}}}function Te(e,t){return{kind:"schema",type:"nullish",reference:Te,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return G(this)},"~run"(n,r){return(n.value===null||n.value===void 0)&&(this.default!==void 0&&(n.value=Bt(this,n,r)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function jt(e){return{kind:"schema",type:"number",reference:jt,expects:"number",async:!1,message:e,get"~standard"(){return G(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:ve(this,"type",t,n),t}}}function qt(e,t){return{kind:"schema",type:"optional",reference:qt,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return G(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Bt(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function oe(e){return{kind:"schema",type:"string",reference:oe,expects:"string",async:!1,message:e,get"~standard"(){return G(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:ve(this,"type",t,n),t}}}function Kr(){return{kind:"schema",type:"unknown",reference:Kr,expects:"unknown",async:!1,get"~standard"(){return G(this)},"~run"(e){return e.typed=!0,e}}}function Dt(e,t,n){const r=e["~run"]({value:t},Qr(n));if(r.issues)throw new Oc(r.issues);return r.value}function Yr(...e){return{...e[0],pipe:e,get"~standard"(){return G(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function Zr(e){return ze(Q({TelegramWebviewProxy:Q({postEvent:It()})}),e)}function Xr(){try{return window.self!==window.top}catch{return!0}}var Ic=Object.defineProperty,jc=(e,t,n)=>t in e?Ic(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xr=(e,t,n)=>jc(e,typeof t!="symbol"?t+"":t,n);function qc(e){return t=>t instanceof e}function eo(e,t){t||(t=[]);class n extends Error{constructor(...s){const i=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...i),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,qc(n)]}const[Dc,Kf]=eo("CancelledError","Promise was canceled"),[Nc,Yf]=eo("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),to=Symbol("Resolved");function no(e){return Array.isArray(e)&&e[0]===to}function Vc(e){return[to,e]}function ro(e,t){return e.reject=t.reject,e.abort=t.abort,e}let oo=class Ur extends Promise{constructor(t,n){let r,s;super((i,a)=>{let u,c;typeof t=="function"?(u=t,c=n):c=t;const l=[],p=f=>(...R)=>{const re=f(...R);return l.forEach(Wr=>Wr()),re},d=new AbortController,{signal:h}=d;s=f=>{!h.aborted&&d.abort(f)};const m=()=>h.reason,M=f=>{const R=()=>{f(m())};h.addEventListener("abort",R,!0);const re=()=>{h.removeEventListener("abort",R,!0)};return l.push(re),re},Me=p(f=>{i(f),s(Vc(f))});r=p(f=>{a(f),s(f)}),c||(c={});const{abortSignal:T,rejectOnAbort:de=!0}=c;if(T)if(T.aborted){const{reason:f}=T;if(de)return r(f);s(f)}else{const f=()=>{s(T.reason)};T.addEventListener("abort",f),l.push(()=>{T.removeEventListener("abort",f)})}de&&M(a);const{timeout:S}=c;if(S){const f=setTimeout(()=>{s(new Nc(S))},S);l.push(()=>{clearTimeout(f)})}const $=()=>h.aborted,V=()=>no(m()),F=()=>{const f=m();return no(f)?f[1]:void 0};try{const f=u&&u(Me,r,{abortReason:m,abortSignal:h,isAborted:$,isResolved:V,onAborted:M,onResolved:R=>M(()=>{V()&&R(F())}),resolved:F,throwIfAborted(){if($())throw m()}});f instanceof Promise&&f.catch(r)}catch(f){r(f)}}),xr(this,"abort"),xr(this,"reject"),this.abort=s,this.reject=r}static fn(t,n){return new Ur(async(r,s,i)=>{try{r(await t(i))}catch(a){s(a)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new Ur((n,r)=>{r(t)})}cancel(){this.abort(new Dc)}catch(t){return this.then(void 0,t)}finally(t){return ro(super.finally(t),this)}then(t,n){return ro(super.then(t,n),this)}};function Rc(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function Hc(e){return Object.entries(e).reduce((t,[n,r])=>(t[Rc(n)]=r,t),{})}function Nt(e){const t=Hc(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(Nt):Nt(r))}return t}function so(e){return`tapps/${e}`}function io(e,t){sessionStorage.setItem(so(e),JSON.stringify(t))}function Lc(e){const t=sessionStorage.getItem(so(e));try{return t?JSON.parse(t):void 0}catch{}}function Fc(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function Wc(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:s}=t,i=s===void 0?!0:s,a=typeof i=="boolean"?()=>i:i;function u(c,l,...p){if(l||a()){const d="font-weight:bold;padding:0 5px;border-radius:5px";console[c](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${d};background-color: lightblue;color:black`,"",`${d};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...p)}}return[u.bind(void 0,"log"),u.bind(void 0,"error")]}function ao(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function Uc(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function zc(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function j(e,t,n,r,s){const i=s&&"input"in s?s.input:n.value,a=(s==null?void 0:s.expected)??e.expects??null,u=(s==null?void 0:s.received)??zc(i),c={kind:e.kind,type:e.type,input:i,expected:a,received:u,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${u}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},l=e.kind==="schema",p=(s==null?void 0:s.message)??e.message??Uc(e.reference,c.lang)??(l?(c.lang,void 0):null)??r.message??(c.lang,void 0);p&&(c.message=typeof p=="function"?p(c):p),l&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function H(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},ao())}}}function uo(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function Gc(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var Qc=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function co(e,t){return{kind:"validation",type:"check",reference:co,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&j(this,"input",n,r),n}}}function lo(e){return{kind:"validation",type:"integer",reference:lo,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&j(this,"integer",t,n),t}}}function se(e){return{kind:"transformation",type:"transform",reference:se,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function po(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Jc(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function Be(e){return{kind:"schema",type:"boolean",reference:Be,expects:"boolean",async:!1,message:e,get"~standard"(){return H(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:j(this,"type",t,n),t}}}function fo(e){return{kind:"schema",type:"date",reference:fo,expects:"Date",async:!1,message:e,get"~standard"(){return H(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?j(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:j(this,"type",t,n),t}}}function mo(e,t){return{kind:"schema",type:"instance",reference:mo,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return H(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:j(this,"type",n,r),n}}}function Vt(e){return{kind:"schema",type:"lazy",reference:Vt,expects:"unknown",async:!1,getter:e,get"~standard"(){return H(this)},"~run"(t,n){return this.getter(t.value)["~run"](t,n)}}}function we(e,t){return{kind:"schema",type:"loose_object",reference:we,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return H(this)},"~run"(n,r){var s;const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const a in this.entries){const u=this.entries[a];if(a in i||(u.type==="exact_optional"||u.type==="optional"||u.type==="nullish")&&u.default!==void 0){const c=a in i?i[a]:po(u),l=u["~run"]({value:c},r);if(l.issues){const p={type:"object",origin:"value",input:i,key:a,value:c};for(const d of l.issues)d.path?d.path.unshift(p):d.path=[p],(s=n.issues)==null||s.push(d);if(n.issues||(n.issues=l.issues),r.abortEarly){n.typed=!1;break}}l.typed||(n.typed=!1),n.value[a]=l.value}else if(u.type!=="exact_optional"&&u.type!=="optional"&&u.type!=="nullish"&&(j(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:i,key:a,value:i[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in i)uo(i,a)&&!(a in this.entries)&&(n.value[a]=i[a])}else j(this,"type",n,r);return n}}}function Rt(e){return{kind:"schema",type:"number",reference:Rt,expects:"number",async:!1,message:e,get"~standard"(){return H(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:j(this,"type",t,n),t}}}function w(e,t){return{kind:"schema",type:"optional",reference:w,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return H(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=po(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function ho(e,t,n){return{kind:"schema",type:"record",reference:ho,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return H(this)},"~run"(r,s){var i,a;const u=r.value;if(u&&typeof u=="object"){r.typed=!0,r.value={};for(const c in u)if(uo(u,c)){const l=u[c],p=this.key["~run"]({value:c},s);if(p.issues){const h={type:"object",origin:"key",input:u,key:c,value:l};for(const m of p.issues)m.path=[h],(i=r.issues)==null||i.push(m);if(r.issues||(r.issues=p.issues),s.abortEarly){r.typed=!1;break}}const d=this.value["~run"]({value:l},s);if(d.issues){const h={type:"object",origin:"value",input:u,key:c,value:l};for(const m of d.issues)m.path?m.path.unshift(h):m.path=[h],(a=r.issues)==null||a.push(m);if(r.issues||(r.issues=d.issues),s.abortEarly){r.typed=!1;break}}(!p.typed||!d.typed)&&(r.typed=!1),p.typed&&(r.value[p.value]=d.value)}}else j(this,"type",r,s);return r}}}function g(e){return{kind:"schema",type:"string",reference:g,expects:"string",async:!1,message:e,get"~standard"(){return H(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:j(this,"type",t,n),t}}}function _o(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function bo(e,t){return{kind:"schema",type:"union",reference:bo,expects:Gc(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return H(this)},"~run"(n,r){let s,i,a;for(const u of this.options){const c=u["~run"]({value:n.value},r);if(c.typed)if(c.issues)i?i.push(c):i=[c];else{s=c;break}else a?a.push(c):a=[c]}if(s)return s;if(i){if(i.length===1)return i[0];j(this,"type",n,r,{issues:_o(i)}),n.typed=!0}else{if((a==null?void 0:a.length)===1)return a[0];j(this,"type",n,r,{issues:_o(a)})}return n}}}function yo(){return{kind:"schema",type:"unknown",reference:yo,expects:"unknown",async:!1,get"~standard"(){return H(this)},"~run"(e){return e.typed=!0,e}}}function go(e,t,n){const r=e["~run"]({value:t},ao(n));if(r.issues)throw new Qc(r.issues);return r.value}function ie(...e){return{...e[0],pipe:e,get"~standard"(){return H(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function Kc(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function Yc(e){return Object.entries(e).reduce((t,[n,r])=>(t[Kc(n)]=r,t),{})}function Ht(e){const t=Yc(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(Ht):Ht(r))}return t}function Lt(e){return se(t=>e?Ht(t):t)}function vo(e){return t=>ie(e,Lt(t))}function Zc(e){return(t,n)=>go(ie(e,Lt(n)),t)}function Ft(){return se(JSON.parse)}function Wt(e){const t=vo(e);return n=>ie(g(),Ft(),t(n))}function Xc(e){return se(t=>{const n={};return new URLSearchParams(t).forEach((r,s)=>{const i=n[s];Array.isArray(i)?i.push(r):i===void 0?n[s]=r:n[s]=[i,r]}),go(e,n)})}function wo(e){return t=>ie(bo([g(),mo(URLSearchParams)]),Xc(e),Lt(t))}const Eo=w(Vt(()=>rl())),xc=we({id:Rt(),photo_url:w(g()),type:g(),title:g(),username:w(g())}),el=we({added_to_attachment_menu:w(Be()),allows_write_to_pm:w(Be()),first_name:g(),id:Rt(),is_bot:w(Be()),is_premium:w(Be()),last_name:w(g()),language_code:w(g()),photo_url:w(g()),username:w(g())}),tl=we({auth_date:ie(g(),se(e=>new Date(Number(e)*1e3)),fo()),can_send_after:w(ie(g(),se(Number),lo())),chat:w(Vt(()=>nl())),chat_type:w(g()),chat_instance:w(g()),hash:g(),query_id:w(g()),receiver:Eo,start_param:w(g()),signature:g(),user:Eo}),nl=Wt(xc),rl=Wt(el),ol=wo(tl);function sl(e){return/^#[\da-f]{6}$/i.test(e)}const il=vo(ho(g(),ie(g(),co(sl),se(e=>e)))),Ut=w(ie(g(),se(e=>e==="1"))),So=Wt(il()),al=we({tgWebAppBotInline:Ut,tgWebAppData:w(ol()),tgWebAppDefaultColors:w(So()),tgWebAppFullscreen:Ut,tgWebAppPlatform:g(),tgWebAppShowSettings:Ut,tgWebAppStartParam:w(g()),tgWebAppThemeParams:So(),tgWebAppVersion:g()}),$o=wo(al),ul=Zc($o()),Co=we({eventType:g(),eventData:w(yo())});function Ao(e,t){return t||(t=(n,r)=>JSON.stringify(r)),new URLSearchParams(Object.entries(e).reduce((n,[r,s])=>(Array.isArray(s)?n.push(...s.map(i=>[r,String(i)])):s!=null&&n.push([r,s instanceof Date?(s.getTime()/1e3|0).toString():typeof s=="string"||typeof s=="number"?String(s):typeof s=="boolean"?s?"1":"0":t(r,s)]),n),[])).toString()}function cl(e){return Ao(e)}function ll(e){return Ao(e,(t,n)=>t==="tgWebAppData"?cl(n):JSON.stringify(n))}function ko(e){try{return Jc($o(),e)}catch{return!1}}function pl(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(s){s(n)}),(r=e.get("*"))&&r.slice().map(function(s){s(t,n)})}}}function dl(e,t){const n=pl(),r=new Map,s=(i,a,u)=>{u||(u=!1);const c=r.get(i)||new Map;r.set(i,c);const l=c.get(a)||[];c.set(a,l);const p=l.findIndex(d=>d[1]===u);p>=0&&(n.off(i,l[p][0]),l.splice(p,1),!l.length&&c.delete(a),c.size||(r.delete(i),!r.size&&t()))};return[function(i,a,u){!r.size&&e();function c(){s(i,a,u)}function l(...h){u&&c(),i==="*"?a(h):a(...h)}n.on(i,l);const p=r.get(i)||new Map;r.set(i,p);const d=p.get(a)||[];return p.set(a,d),d.push([l,u||!1]),c},s,n.emit,function(){const i=n.all.size;n.all.clear(),r.clear(),i&&t()}]}function zt(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}let Ge=!1;const[Gt,fl]=Wc("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog(){return Ge}}),Po=e=>{Gt(!1,"Event received:",e)};function ml(e){e!==Ge&&(Ge=e,Ge?C("*",Po):B("*",Po))}const hl={clipboard_text_received:Q({req_id:oe(),data:Te(oe())}),custom_method_invoked:Q({req_id:oe(),result:qt(Kr()),error:qt(oe())}),popup_closed:Te(Q({button_id:Te(oe(),()=>{})}),{}),viewport_changed:Q({height:jt(),width:Te(jt(),()=>window.innerWidth),is_state_stable:Ot(),is_expanded:Ot()})};function Mo(e){if(e.source!==window.parent)return;let t;try{t=Dt(Yr(oe(),Ft(),Co),e.data)}catch{return}const{eventType:n,eventData:r}=t,s=hl[n];try{const i=s?Dt(s,r):r;_l(n,i)}catch(i){fl(!0,[`An error occurred processing the "${n}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),t,i)}}const[C,B,_l,Zf]=dl(()=>{const e=window,t={receiveEvent:zt};e.TelegramGameProxy_receiveEvent=zt,e.TelegramGameProxy=t,e.Telegram={WebView:t},window.addEventListener("message",Mo)},()=>{["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]}),window.removeEventListener("message",Mo)});function bl(e){return t=>t instanceof e}function Ee(e,t){t||(t=[]);class n extends Error{constructor(...s){const i=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...i),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,bl(n)]}const[To,yl]=Ee("MethodUnsupportedError",(e,t)=>[`Method "${e}" is unsupported in Mini Apps version ${t}`]),[Bo,gl]=Ee("MethodParameterUnsupportedError",(e,t,n)=>[`Parameter "${t}" of "${e}" method is unsupported in Mini Apps version ${n}`]),vl=["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","ðŸ“– Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment"].join(`
`),[Oo,wl]=Ee("LaunchParamsRetrieveError",vl),[Io,El]=Ee("InvalidLaunchParamsError",e=>[`Invalid value for launch params: ${e}`]),[jo,Sl]=Ee("UnknownEnvError"),[qo,$l]=Ee("InvokeCustomMethodError",e=>[`Server returned error: ${e}`]);function Cl(e,t){t()}function Al(e,t){t||(t={});const n=t.equals||Object.is;let r=[],s=e;const i=l=>{if(!n(s,l)){const p=s;s=l,Cl(c,()=>{[...r].forEach(([d,h])=>{d(l,p),h&&u(d,!0)})})}};function a(l){const p=typeof l!="object"?{once:l}:l;return{once:p.once||!1,signal:p.signal||!1}}const u=(l,p)=>{const d=a(p),h=r.findIndex(([m,M])=>m===l&&M.once===d.once&&M.signal===d.signal);h>=0&&r.splice(h,1)},c=Object.assign(function(){return kl(c),s},{destroy(){r=[]},set:i,reset(){i(e)},sub(l,p){return r.push([l,a(p)]),()=>u(l,p)},unsub:u,unsubAll(){r=r.filter(l=>l[1].signal)}});return c}const Qt=[];function kl(e){Qt.length&&Qt[Qt.length-1].add(e)}const Do=Al("https://web.telegram.org");function Jt(e,t){Gt(!1,"Posting event:",t?{eventType:e,eventData:t}:{eventType:e});const n=window,r=JSON.stringify({eventType:e,eventData:t});if(Xr())return n.parent.postMessage(r,Do());if(Zr(n)){n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}if(ze(Q({external:Q({notify:It()})}),n)){n.external.notify(r);return}throw new jo}function Kt(e,t,n){n||(n={});const{capture:r}=n,[s,i]=Fc();return new oo(a=>{(Array.isArray(t)?t:[t]).forEach(u=>{s(C(u,c=>{(!r||(Array.isArray(t)?r({event:u,payload:c}):r(c)))&&a(c)}))}),(n.postEvent||Jt)(e,n.params)},n).finally(i)}const No="launchParams";function Vo(e){return e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function Yt(){for(const e of[()=>Vo(window.location.href),()=>{const t=performance.getEntriesByType("navigation")[0];return t&&Vo(t.name)},()=>Lc(No)]){const t=e();if(t&&ko(t))return io(No,t),t}throw new Oo}function Qe(e){const t=ul(Yt());return e?Nt(t):t}function Zt(e,t){if(!e)try{return Qe(),!0}catch{return!1}return oo.fn(async n=>{if(Zr(window))return!0;try{return await Kt("web_app_request_theme","theme_changed",n),!0}catch{return!1}},t||{timeout:100})}function Pl({launchParams:e,onEvent:t}={}){if(e){const s=typeof e=="string"||e instanceof URLSearchParams?e.toString():ll({...e,tgWebAppData:void 0})+(e.tgWebAppData?`&tgWebAppData=${encodeURIComponent(e.tgWebAppData.toString())}`:"");if(!ko(s))throw new Io(s);io("launchParams",s)}if(Xr()){const s=Yr(oe(),Ft(),Co),i=window.parent.postMessage.bind(window.parent);window.parent.postMessage=(...a)=>{const[u]=a,c=()=>{i(...a)};if(ze(s,u)&&t){const l=Dt(s,u);t([l.eventType,l.eventData],c)}else c()};return}const n=window.TelegramWebviewProxy||{},{postEvent:r}=n;window.TelegramWebviewProxy={...n,postEvent(s,i){const a=()=>{r&&r(s,i)};t?t([s,i?JSON.parse(i):void 0],a):a()}},Gt(!1,"Environment was mocked by the mockTelegramEnv function")}function Ro(){return new URLSearchParams(Yt()).get("tgWebAppData")||void 0}function Ho(e){return({req_id:t})=>t===e}function Lo(e){return e.split(".").map(Number)}function Ml(e,t){const n=Lo(e),r=Lo(t),s=Math.max(n.length,r.length);for(let i=0;i<s;i+=1){const a=n[i]||0,u=r[i]||0;if(a!==u)return a>u?1:-1}return 0}function P(e,t){return Ml(e,t)<=0}function ae(e,t,n){if(typeof n=="string"){if(e==="web_app_open_link"){if(t==="try_instant_view")return P("6.4",n);if(t==="try_browser")return P("7.6",n)}if(e==="web_app_set_header_color"&&t==="color")return P("6.9",n);if(e==="web_app_close"&&t==="return_back")return P("7.6",n);if(e==="web_app_setup_main_button"&&t==="has_shine_effect")return P("7.10",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return P("6.1",t);case"web_app_open_popup":return P("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return P("6.4",t);case"web_app_switch_inline_query":return P("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return P("6.9",t);case"web_app_setup_settings_button":return P("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return P("7.2",t);case"web_app_setup_swipe_behavior":return P("7.7",t);case"web_app_share_to_story":return P("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return P("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":case"web_app_check_location":case"web_app_open_location_settings":case"web_app_request_file_download":case"web_app_request_location":case"web_app_send_prepared_message":case"web_app_start_accelerometer":case"web_app_start_device_orientation":case"web_app_start_gyroscope":case"web_app_stop_accelerometer":case"web_app_stop_device_orientation":case"web_app_stop_gyroscope":case"web_app_toggle_orientation_lock":return P("8.0",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}function Fo(e,t){t||(t="strict");const n=typeof t=="function"?t:r=>{const{method:s,version:i}=r,a="param"in r?new Bo(s,r.param,i):new To(s,i);if(t==="strict")throw a;return console.warn(a.message)};return(r,s)=>ae(r,e)?r==="web_app_set_header_color"&&ze(Q({color:Jr()}),s)&&!ae(r,"color",e)?n({version:e,method:r,param:"color"}):Jt(r,s):n({version:e,method:r})}function Tl(e,t,n,r){return Kt("web_app_invoke_custom_method","custom_method_invoked",{...r||{},params:{method:e,params:t,req_id:n},capture:Ho(n)}).then(({result:s,error:i})=>{if(i)throw new qo(i);return s})}function Wo(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function Bl(e){return e.replace(/_([a-z])/g,(t,n)=>`-${n.toLowerCase()}`)}function Uo(e){return`tapps/${e}`}function J(e,t){sessionStorage.setItem(Uo(e),JSON.stringify(t))}function K(e){const t=sessionStorage.getItem(Uo(e));try{return t?JSON.parse(t):void 0}catch{}}function Xt(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function Ol(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:s}=t,i=s===void 0?!0:s,a=typeof i=="boolean"?()=>i:i;function u(c,l,...p){if(l||a()){const d="font-weight:bold;padding:0 5px;border-radius:5px";console[c](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${d};background-color: lightblue;color:black`,"",`${d};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...p)}}return[u.bind(void 0,"log"),u.bind(void 0,"error")]}function Il(){return performance.getEntriesByType("navigation")[0]}function Y(){const e=Il();return!!e&&e.type==="reload"}let Se;function jl(e,t){Se&&Se.set(e,t)||t()}function xt(e){if(Se)return e();Se=new Map;try{e()}finally{Se.forEach(t=>t()),Se=void 0}}function zo(e,t){t||(t={});const n=t.equals||Object.is;let r=[],s=e;const i=l=>{if(!n(s,l)){const p=s;s=l,jl(c,()=>{[...r].forEach(([d,h])=>{d(l,p),h&&u(d,!0)})})}};function a(l){const p=typeof l!="object"?{once:l}:l;return{once:p.once||!1,signal:p.signal||!1}}const u=(l,p)=>{const d=a(p),h=r.findIndex(([m,M])=>m===l&&M.once===d.once&&M.signal===d.signal);h>=0&&r.splice(h,1)},c=Object.assign(function(){return ql(c),s},{destroy(){r=[]},set:i,reset(){i(e)},sub(l,p){return r.push([l,a(p)]),()=>u(l,p)},unsub:u,unsubAll(){r=r.filter(l=>l[1].signal)}});return c}const Oe=[];function ql(e){Oe.length&&Oe[Oe.length-1].add(e)}function Dl(e,t){let n=new Set,r;function s(){return r||(r=zo(a(),t))}function i(){s().set(a())}function a(){n.forEach(l=>{l.unsub(i,{signal:!0})});const u=new Set;let c;Oe.push(u);try{c=e()}finally{Oe.pop()}return u.forEach(l=>{l.sub(i,{signal:!0})}),n=u,c}return Object.assign(function(){return s()()},{destroy(){s().destroy()},sub(...u){return s().sub(...u)},unsub(...u){s().unsub(...u)},unsubAll(...u){s().unsubAll(...u)}})}function Ie(e,t){return zo(e,t)}function b(e,t){return Dl(e,t)}function y(e,t){const n=Ie(e,t);return[n,b(n)]}let Go=!1;const[en,Xf]=Ol("SDK",{bgColor:"forestgreen",textColor:"white",shouldLog(){return Go}});function Nl(e){Go=e,ml(e)}const tn=Ie(0),Qo=Ie(Jt),[Jo,nn]=y({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),ue=b(()=>nn().tgWebAppVersion);function Ko(e){e||(e={});const{postEvent:t}=e,n=e.launchParams||Qe();Jo.set(n),Qo.set(typeof t=="function"?t:Fo(n.tgWebAppVersion)),en(!1,"The package was configured. Launch params:",Jo())}function rn(){return tn.set(tn()+1),tn().toString()}function fe(e,t,n){return Tl(e,t,rn(),{...n||{},postEvent:_})}const k=(e,t,n)=>(n||(n={}),n.postEvent||(n.postEvent=_),Kt(e,t,n)),_=(e,t)=>Qo()(e,t);function Z(e){return b(()=>ae(e,ue()))}function Vl(e){return t=>t instanceof e}function ee(e,t){t||(t=[]);class n extends Error{constructor(...s){const i=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...i),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Vl(n)]}function $e(e){return[e]}const[Je,Rl]=ee("CSSVarsBoundError","CSS variables are already bound"),[Yo,Hl]=ee("NotAvailableError",$e),[Ll,Fl]=ee("InvalidEnvError",$e),[Ce,Wl]=ee("FunctionNotAvailableError",$e),[W,Ul]=ee("InvalidArgumentsError",(e,t)=>[e,{cause:t}]),[Zo,zl]=ee("ConcurrentCallError",$e),[Xo,Gl]=ee("SetEmojiStatusError",e=>[`Failed to set emoji status: ${e}`]),[xo,Ql]=ee("AccessDeniedError",$e),[es,Jl]=ee("FullscreenFailedError",$e);function on(){return typeof window>"u"}function A(e,t,n){n||(n={});const{isSupported:r,isMounted:s,isMounting:i,component:a,supports:u}=n||{},c=`${a?`${a}.`:""}${e}()`,l=r?Array.isArray(r)||typeof r=="object"&&"any"in r?r:[r]:void 0;function p(S){if(u){const $=u[S];return ae($[0],$[1],ue())}return!0}function d(){if(!l)return;function S(F){return typeof F=="function"?F():ae(F,ue())?void 0:`it is unsupported in Mini Apps version ${ue()}`}const $=Array.isArray(l)?l:l.any,V=$.map(S).filter(Boolean);return Array.isArray(l)?V[0]:V.length===$.length?V[V.length-1]:void 0}function h(...S){for(const $ in u)if(u[$][2](...S)&&!p($))return`option ${$} is not supported in Mini Apps version ${ue()}`}let m;if(u){m={};for(const S in u)m[S]=b(()=>p(S))}const M=b(()=>!d()),Me=b(()=>ue()!=="0.0"),T=b(()=>!s||s()),de=b(()=>Zt()&&!on()&&Me()&&M()&&T());return Object.assign((...S)=>{const $=`Unable to call the ${c} ${a?"method":"function"}:`;if(on()||!Zt())throw new Ce(`${$} it can't be called outside Mini Apps`);if(!Me())throw new Ce(`${$} the SDK was not initialized. Use the SDK init() function`);const V=d();if(V)throw new Ce(`${$} ${V}`);const F=h(...S);if(F)throw new Ce(`${$} ${F}`);if(!T()){const f=i&&i()?"mounting. Wait for the mount completion":`unmounted. Use the ${a}.mount() method`;throw new Ce(`${$} the component is ${f}`)}return t(...S)},t,{isAvailable:de,ifAvailable(...S){return de()?[!0,t(...S)]:[!1]}},l?{isSupported:M}:{},m?{supports:m}:{})}function Ke(e,t){return t||(t={}),(n,r,s,i)=>A(n,r,{...t,isSupported:s||t.isSupported,supports:i,component:e})}function me(e,t,n){return Ke(e,{isSupported:n,isMounted:t})}function L(e,t){return Ke(e,{isSupported:t})}const Ye="web_app_setup_back_button",ts="back_button_pressed",Ze="backButton",[ns,rs]=y(!1),[Xe,os]=y(!1),ss=Z(Ye),is=me(Ze,Xe,Ye),sn=L(Ze,Ye),as=is("hide",()=>{an(!1)}),us=sn("mount",()=>{Xe()||(an(Y()&&K(Ze)||!1),Xe.set(!0))});function an(e){e!==ns()&&(_(Ye,{is_visible:e}),J(Ze,e),ns.set(e))}const cs=sn("onClick",e=>C(ts,e)),ls=sn("offClick",e=>{B(ts,e)}),ps=is("show",()=>{an(!0)});function ds(){Xe.set(!1)}const Kl=Object.freeze(Object.defineProperty({__proto__:null,hide:as,isMounted:os,isSupported:ss,isVisible:rs,mount:us,offClick:ls,onClick:cs,show:ps,unmount:ds},Symbol.toStringTag,{value:"Module"}));var Yl=Object.defineProperty,Zl=(e,t,n)=>t in e?Yl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,un=(e,t,n)=>Zl(e,typeof t!="symbol"?t+"":t,n);function Xl(e){return t=>t instanceof e}function fs(e,t){t||(t=[]);class n extends Error{constructor(...s){const i=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...i),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Xl(n)]}const[xl,ep]=fs("CancelledError","Promise was canceled"),[tp,xf]=fs("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),ms=Symbol("Resolved");function hs(e){return Array.isArray(e)&&e[0]===ms}function np(e){return[ms,e]}function _s(e,t){return e.reject=t.reject,e.abort=t.abort,e}let O=class zr extends Promise{constructor(t,n){let r,s;super((i,a)=>{let u,c;typeof t=="function"?(u=t,c=n):c=t;const l=[],p=f=>(...R)=>{const re=f(...R);return l.forEach(Wr=>Wr()),re},d=new AbortController,{signal:h}=d;s=f=>{!h.aborted&&d.abort(f)};const m=()=>h.reason,M=f=>{const R=()=>{f(m())};h.addEventListener("abort",R,!0);const re=()=>{h.removeEventListener("abort",R,!0)};return l.push(re),re},Me=p(f=>{i(f),s(np(f))});r=p(f=>{a(f),s(f)}),c||(c={});const{abortSignal:T,rejectOnAbort:de=!0}=c;if(T)if(T.aborted){const{reason:f}=T;if(de)return r(f);s(f)}else{const f=()=>{s(T.reason)};T.addEventListener("abort",f),l.push(()=>{T.removeEventListener("abort",f)})}de&&M(a);const{timeout:S}=c;if(S){const f=setTimeout(()=>{s(new tp(S))},S);l.push(()=>{clearTimeout(f)})}const $=()=>h.aborted,V=()=>hs(m()),F=()=>{const f=m();return hs(f)?f[1]:void 0};try{const f=u&&u(Me,r,{abortReason:m,abortSignal:h,isAborted:$,isResolved:V,onAborted:M,onResolved:R=>M(()=>{V()&&R(F())}),resolved:F,throwIfAborted(){if($())throw m()}});f instanceof Promise&&f.catch(r)}catch(f){r(f)}}),un(this,"abort"),un(this,"reject"),this.abort=s,this.reject=r}static fn(t,n){return new zr(async(r,s,i)=>{try{r(await t(i))}catch(a){s(a)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new zr((n,r)=>{r(t)})}cancel(){this.abort(new xl)}catch(t){return this.then(void 0,t)}finally(t){return _s(super.finally(t),this)}then(t,n){return _s(super.then(t,n),this)}};function bs(e,t){return e.resolve=t.resolve,e}let rp=class Gr extends O{constructor(t,n){let r,s;typeof t=="function"?(r=t,s=n):s=t;let i;super((a,u,c)=>{i=a,r&&r(a,u,c)},s),un(this,"resolve"),this.resolve=i}static fn(t,n){return new Gr((r,s,i)=>{try{Promise.resolve(t(i)).then(r,s)}catch(a){s(a)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new Gr((n,r)=>{r(t)})}catch(t){return this.then(void 0,t)}finally(t){return bs(super.finally(t),this)}then(t,n){return bs(super.then(t,n),this)}};function q(e,t,n){n||(n={});const{promise:r,error:s}=n,[i,a]=r?[r,b(r)]:y(),[u,c]=s?[s,b(s)]:y();return[Object.assign((...l)=>{if(i()){const d=new Zo(t);return u.set(d),O.reject(d)}xt(()=>{i.set(e(...l)),u.set(void 0)});let p;return i().catch(d=>{throw p=d,d}).finally(()=>{xt(()=>{i.set(void 0),u.set(p)})})},e),[i,a,b(()=>!!i())],[u,c]]}function xe(e,t,n){const[r,...s]=q(t,`The ${e} component is already mounting`),[i,a]=y(!1);return[(...u)=>i()?O.resolve():r(...u).then(c=>{xt(()=>{i.set(!0),n(c)})}),...s,[i,a]]}const te=Ke,[cn,ys]=y({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),gs=b(()=>cn().available),vs="web_app_biometry_get_info",ws=A("requestBiometry",e=>k(vs,"biometry_info_received",e),{isSupported:vs});function ln(e){if(!ep(e))throw e}function je(e){const t=e();t&&t.catch(ln).cancel()}const Ae="biometry",et="web_app_biometry_request_auth",pn="biometry_info_received",Es=e=>{tt(dn(e))};function Ss(){throw new Yo("Biometry is not available")}function dn(e){let t=!1,n=!1,r="",s=!1,i="",a=!1;return e.available&&(t=!0,n=e.token_saved,r=e.device_id,s=e.access_requested,i=e.type,a=e.access_granted),{available:t,tokenSaved:n,deviceId:r,type:i,accessGranted:a,accessRequested:s}}const $s=Z(et),[op,sp,ip,Cs]=xe(Ae,e=>{const t=Y()&&K(Ae);return t?O.resolve(t):ws({abortSignal:e}).then(dn)},e=>{C(pn,Es),tt(e)}),ap=te(Ae),up=L(Ae,et),fn=me(Ae,Cs[0],et),As=ap("mount",op),[,mn,ks]=sp,[,Ps]=ip,[cp,Ms]=Cs,[lp,pp,dp]=q(e=>O.fn(async t=>{const n=cn();n.available||Ss();const r=await k(et,"biometry_auth_requested",{...e,...t,params:{reason:((e||{}).reason||"").trim()}}),{token:s}=r;return typeof s=="string"&&tt({...n,token:s}),r},e),"Biometry authentication is already in progress"),Ts=fn("authenticate",lp),[,hn,Bs]=pp,[,Os]=dp,Is=up("openSettings",()=>{_("web_app_biometry_open_settings")}),[fp,mp,hp]=q(e=>O.fn(async t=>{const n=await k("web_app_biometry_request_access",pn,{...e,...t,params:{reason:(e||{}).reason||""}}).then(dn);return n.available||Ss(),tt(n),n.accessGranted},e),"Biometry access request is already in progress"),js=fn("requestAccess",fp),[,_n,qs]=mp,[,Ds]=hp;function tt(e){cn.set(e),J(Ae,e)}function Ns(){[hn,_n,mn].forEach(je),B(pn,Es),cp.set(!1)}const Vs=fn("updateToken",e=>(e||(e={}),k("web_app_biometry_update_token","biometry_token_updated",{...e,params:{token:e.token||"",reason:e.reason}}).then(t=>t.status))),_p=Object.freeze(Object.defineProperty({__proto__:null,authError:Os,authPromise:hn,authenticate:Ts,isAuthenticating:Bs,isAvailable:gs,isMounted:Ms,isMounting:ks,isRequestingAccess:qs,isSupported:$s,mount:As,mountError:Ps,mountPromise:mn,openSettings:Is,requestAccess:js,requestAccessError:Ds,requestAccessPromise:_n,state:ys,unmount:Ns,updateToken:Vs},Symbol.toStringTag,{value:"Module"}));function nt(e,t){return Ke(e,{isMounted:t})}const rt="closingBehavior",[Rs,Hs]=y(!1),[bn,yn]=y(!1),Ls=nt(rt,yn),bp=te(rt),Fs=Ls("disableConfirmation",()=>{gn(!1)}),Ws=Ls("enableConfirmation",()=>{gn(!0)}),Us=bp("mount",()=>{bn()||(gn(Y()&&K(rt)||!1),bn.set(!0))});function gn(e){e!==Rs()&&(_("web_app_setup_closing_behavior",{need_confirmation:e}),J(rt,e),Rs.set(e))}function zs(){bn.set(!1)}const yp=Object.freeze(Object.defineProperty({__proto__:null,disableConfirmation:Fs,enableConfirmation:Ws,isConfirmationEnabled:Hs,isMounted:yn,mount:Us,unmount:zs},Symbol.toStringTag,{value:"Module"}));var ne;function Gs(e){return{lang:(e==null?void 0:e.lang)??(ne==null?void 0:ne.lang),message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??(ne==null?void 0:ne.abortEarly),abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??(ne==null?void 0:ne.abortPipeEarly)}}var vn;function gp(e){return vn==null?void 0:vn.get(e)}var wn;function vp(e){return wn==null?void 0:wn.get(e)}var En;function wp(e,t){var n;return(n=En==null?void 0:En.get(e))==null?void 0:n.get(t)}function Ep(e){var n,r;const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&((r=(n=Object.getPrototypeOf(e))==null?void 0:n.constructor)==null?void 0:r.name))??"null":t}function D(e,t,n,r,s){const i=s&&"input"in s?s.input:n.value,a=(s==null?void 0:s.expected)??e.expects??null,u=(s==null?void 0:s.received)??Ep(i),c={kind:e.kind,type:e.type,input:i,expected:a,received:u,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${u}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},l=e.kind==="schema",p=(s==null?void 0:s.message)??e.message??wp(e.reference,c.lang)??(l?vp(c.lang):null)??r.message??gp(c.lang);p&&(c.message=typeof p=="function"?p(c):p),l&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function X(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Gs())}}}function Qs(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function Sp(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var Sn=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Js(e,t){return{kind:"validation",type:"check",reference:Js,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&D(this,"input",n,r),n}}}function Ks(e){return{kind:"validation",type:"integer",reference:Ks,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&D(this,"integer",t,n),t}}}function $n(e){return{kind:"transformation",type:"transform",reference:$n,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function Ys(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Zs(e,t){return{kind:"schema",type:"array",reference:Zs,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return X(this)},"~run"(n,r){var i;const s=n.value;if(Array.isArray(s)){n.typed=!0,n.value=[];for(let a=0;a<s.length;a++){const u=s[a],c=this.item["~run"]({value:u},r);if(c.issues){const l={type:"array",origin:"value",input:s,key:a,value:u};for(const p of c.issues)p.path?p.path.unshift(l):p.path=[l],(i=n.issues)==null||i.push(p);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value.push(c.value)}}else D(this,"type",n,r);return n}}}function Cn(e){return{kind:"schema",type:"date",reference:Cn,expects:"Date",async:!1,message:e,get"~standard"(){return X(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?D(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:D(this,"type",t,n),t}}}function Xs(e,t){return{kind:"schema",type:"instance",reference:Xs,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return X(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:D(this,"type",n,r),n}}}function An(e,t){return{kind:"schema",type:"loose_object",reference:An,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return X(this)},"~run"(n,r){var i;const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};for(const a in this.entries){const u=this.entries[a];if(a in s||(u.type==="exact_optional"||u.type==="optional"||u.type==="nullish")&&u.default!==void 0){const c=a in s?s[a]:Ys(u),l=u["~run"]({value:c},r);if(l.issues){const p={type:"object",origin:"value",input:s,key:a,value:c};for(const d of l.issues)d.path?d.path.unshift(p):d.path=[p],(i=n.issues)==null||i.push(d);if(n.issues||(n.issues=l.issues),r.abortEarly){n.typed=!1;break}}l.typed||(n.typed=!1),n.value[a]=l.value}else if(u.type!=="exact_optional"&&u.type!=="optional"&&u.type!=="nullish"&&(D(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:s,key:a,value:s[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in s)Qs(s,a)&&!(a in this.entries)&&(n.value[a]=s[a])}else D(this,"type",n,r);return n}}}function kn(e){return{kind:"schema",type:"number",reference:kn,expects:"number",async:!1,message:e,get"~standard"(){return X(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:D(this,"type",t,n),t}}}function xs(e,t){return{kind:"schema",type:"optional",reference:xs,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return X(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Ys(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function ei(e,t,n){return{kind:"schema",type:"record",reference:ei,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return X(this)},"~run"(r,s){var a,u;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const c in i)if(Qs(i,c)){const l=i[c],p=this.key["~run"]({value:c},s);if(p.issues){const h={type:"object",origin:"key",input:i,key:c,value:l};for(const m of p.issues)m.path=[h],(a=r.issues)==null||a.push(m);if(r.issues||(r.issues=p.issues),s.abortEarly){r.typed=!1;break}}const d=this.value["~run"]({value:l},s);if(d.issues){const h={type:"object",origin:"value",input:i,key:c,value:l};for(const m of d.issues)m.path?m.path.unshift(h):m.path=[h],(u=r.issues)==null||u.push(m);if(r.issues||(r.issues=d.issues),s.abortEarly){r.typed=!1;break}}(!p.typed||!d.typed)&&(r.typed=!1),p.typed&&(r.value[p.value]=d.value)}}else D(this,"type",r,s);return r}}}function U(e){return{kind:"schema",type:"string",reference:U,expects:"string",async:!1,message:e,get"~standard"(){return X(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:D(this,"type",t,n),t}}}function ti(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function ni(e,t){return{kind:"schema",type:"union",reference:ni,expects:Sp(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return X(this)},"~run"(n,r){let s,i,a;for(const u of this.options){const c=u["~run"]({value:n.value},r);if(c.typed)if(c.issues)i?i.push(c):i=[c];else{s=c;break}else a?a.push(c):a=[c]}if(s)return s;if(i){if(i.length===1)return i[0];D(this,"type",n,r,{issues:ti(i)}),n.typed=!0}else{if((a==null?void 0:a.length)===1)return a[0];D(this,"type",n,r,{issues:ti(a)})}return n}}}function ot(e,t,n){const r=e["~run"]({value:t},Gs(n));if(r.issues)throw new Sn(r.issues);return r.value}function qe(...e){return{...e[0],pipe:e,get"~standard"(){return X(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}const ri="web_app_invoke_custom_method",De=L("cloudStorage",ri),oi=Z(ri),Pn=De("deleteItem",(e,t)=>{const n=Array.isArray(e)?e:[e];return n.length?fe("deleteStorageValues",{keys:n},t).then():O.resolve()});function $p(e,t){const n=Array.isArray(e)?e:[e];return n.length?fe("getStorageValues",{keys:n},t).then(r=>ot(ei(qe(U(),Js(s=>n.includes(s))),U()),r)):O.resolve(typeof e=="string"?"":{})}const si=De("getItem",$p),Mn=De("getKeys",e=>fe("getStorageKeys",{},e).then(t=>ot(Zs(U()),t))),ii=De("setItem",(e,t,n)=>fe("saveStorageValue",{key:e,value:t},n).then()),Cp=De("clear",e=>Mn(e).then(Pn)),Ap=Object.freeze(Object.defineProperty({__proto__:null,clear:Cp,deleteItem:Pn,getItem:si,getKeys:Mn,isSupported:oi,setItem:ii},Symbol.toStringTag,{value:"Module"})),Ne="web_app_trigger_haptic_feedback",Tn=L("hapticFeedback",Ne),ai=Z(Ne),ui=Tn("impactOccurred",e=>{_(Ne,{type:"impact",impact_style:e})}),ci=Tn("notificationOccurred",e=>{_(Ne,{type:"notification",notification_type:e})}),li=Tn("selectionChanged",()=>{_(Ne,{type:"selection_change"})}),kp=Object.freeze(Object.defineProperty({__proto__:null,impactOccurred:ui,isSupported:ai,notificationOccurred:ci,selectionChanged:li},Symbol.toStringTag,{value:"Module"})),[pi,di]=y(void 0);function x(e){return b(()=>{const t=pi();return t?t[e]:void 0})}const Bn=x("auth_date"),On=x("can_send_after"),fi=b(()=>{const e=Bn(),t=On();return t&&e?new Date(e.getTime()+t*1e3):void 0}),mi=x("chat"),hi=x("chat_type"),_i=x("chat_instance"),bi=x("hash"),yi=x("query_id"),[Pp,gi]=y(),vi=x("receiver");function wi(){const e=Qe();pi.set(e.tgWebAppData),Pp.set(Ro())}const Ei=x("start_param"),Si=x("user"),Mp=Object.freeze(Object.defineProperty({__proto__:null,authDate:Bn,canSendAfter:On,canSendAfterDate:fi,chat:mi,chatInstance:_i,chatType:hi,hash:bi,queryId:yi,raw:gi,receiver:vi,restore:wi,startParam:Ei,state:di,user:Si},Symbol.toStringTag,{value:"Module"})),In="web_app_open_invoice",Tp=L("invoice",In),$i=Z(In);function Bp(e,t,n){let r;if(t==="url"){const{hostname:s,pathname:i}=new URL(e,window.location.href);if(s!=="t.me")throw new W(`Link has unexpected hostname: ${s}`);const a=i.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!a)throw new W('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=a}else r=e,n=t;return k(In,"invoice_closed",{...n,params:{slug:r},capture:s=>r===s.slug}).then(s=>s.status)}const[Op,Ip,jp]=q(Bp,"Invoice is already opened"),Ci=Tp("open",Op),[,Ai,ki]=Ip,[,Pi]=jp,qp=Object.freeze(Object.defineProperty({__proto__:null,isOpened:ki,isSupported:$i,open:Ci,openError:Pi,openPromise:Ai},Symbol.toStringTag,{value:"Module"}));function jn(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=r)}return t}function Mi(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function em(e){}function tm(e){}function Dp(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function Np(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function N(e,t,n,r,s){const i=s&&"input"in s?s.input:n.value,a=(s==null?void 0:s.expected)??e.expects??null,u=(s==null?void 0:s.received)??Np(i),c={kind:e.kind,type:e.type,input:i,expected:a,received:u,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${u}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},l=e.kind==="schema",p=(s==null?void 0:s.message)??e.message??Dp(e.reference,c.lang)??(l?(c.lang,void 0):null)??r.message??(c.lang,void 0);p&&(c.message=typeof p=="function"?p(c):p),l&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function z(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Mi())}}}function Ti(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function Vp(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var Rp=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Bi(e,t){return{kind:"validation",type:"check",reference:Bi,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&N(this,"input",n,r),n}}}function Oi(e){return{kind:"validation",type:"integer",reference:Oi,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&N(this,"integer",t,n),t}}}function ce(e){return{kind:"transformation",type:"transform",reference:ce,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function Ii(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Ve(e){return{kind:"schema",type:"boolean",reference:Ve,expects:"boolean",async:!1,message:e,get"~standard"(){return z(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:N(this,"type",t,n),t}}}function ji(e){return{kind:"schema",type:"date",reference:ji,expects:"Date",async:!1,message:e,get"~standard"(){return z(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?N(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:N(this,"type",t,n),t}}}function qi(e,t){return{kind:"schema",type:"instance",reference:qi,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return z(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:N(this,"type",n,r),n}}}function qn(e){return{kind:"schema",type:"lazy",reference:qn,expects:"unknown",async:!1,getter:e,get"~standard"(){return z(this)},"~run"(t,n){return this.getter(t.value)["~run"](t,n)}}}function Re(e,t){return{kind:"schema",type:"loose_object",reference:Re,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return z(this)},"~run"(n,r){var s;const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const a in this.entries){const u=this.entries[a];if(a in i||(u.type==="exact_optional"||u.type==="optional"||u.type==="nullish")&&u.default!==void 0){const c=a in i?i[a]:Ii(u),l=u["~run"]({value:c},r);if(l.issues){const p={type:"object",origin:"value",input:i,key:a,value:c};for(const d of l.issues)d.path?d.path.unshift(p):d.path=[p],(s=n.issues)==null||s.push(d);if(n.issues||(n.issues=l.issues),r.abortEarly){n.typed=!1;break}}l.typed||(n.typed=!1),n.value[a]=l.value}else if(u.type!=="exact_optional"&&u.type!=="optional"&&u.type!=="nullish"&&(N(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:i,key:a,value:i[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in i)Ti(i,a)&&!(a in this.entries)&&(n.value[a]=i[a])}else N(this,"type",n,r);return n}}}function Dn(e){return{kind:"schema",type:"number",reference:Dn,expects:"number",async:!1,message:e,get"~standard"(){return z(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:N(this,"type",t,n),t}}}function E(e,t){return{kind:"schema",type:"optional",reference:E,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return z(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Ii(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Di(e,t,n){return{kind:"schema",type:"record",reference:Di,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return z(this)},"~run"(r,s){var i,a;const u=r.value;if(u&&typeof u=="object"){r.typed=!0,r.value={};for(const c in u)if(Ti(u,c)){const l=u[c],p=this.key["~run"]({value:c},s);if(p.issues){const h={type:"object",origin:"key",input:u,key:c,value:l};for(const m of p.issues)m.path=[h],(i=r.issues)==null||i.push(m);if(r.issues||(r.issues=p.issues),s.abortEarly){r.typed=!1;break}}const d=this.value["~run"]({value:l},s);if(d.issues){const h={type:"object",origin:"value",input:u,key:c,value:l};for(const m of d.issues)m.path?m.path.unshift(h):m.path=[h],(a=r.issues)==null||a.push(m);if(r.issues||(r.issues=d.issues),s.abortEarly){r.typed=!1;break}}(!p.typed||!d.typed)&&(r.typed=!1),p.typed&&(r.value[p.value]=d.value)}}else N(this,"type",r,s);return r}}}function v(e){return{kind:"schema",type:"string",reference:v,expects:"string",async:!1,message:e,get"~standard"(){return z(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:N(this,"type",t,n),t}}}function Ni(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function Vi(e,t){return{kind:"schema",type:"union",reference:Vi,expects:Vp(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return z(this)},"~run"(n,r){let s,i,a;for(const u of this.options){const c=u["~run"]({value:n.value},r);if(c.typed)if(c.issues)i?i.push(c):i=[c];else{s=c;break}else a?a.push(c):a=[c]}if(s)return s;if(i){if(i.length===1)return i[0];N(this,"type",n,r,{issues:Ni(i)}),n.typed=!0}else{if((a==null?void 0:a.length)===1)return a[0];N(this,"type",n,r,{issues:Ni(a)})}return n}}}function Ri(e,t,n){const r=e["~run"]({value:t},Mi(n));if(r.issues)throw new Rp(r.issues);return r.value}function le(...e){return{...e[0],pipe:e,get"~standard"(){return z(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function Hp(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function Lp(e){return Object.entries(e).reduce((t,[n,r])=>(t[Hp(n)]=r,t),{})}function Nn(e){const t=Lp(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(Nn):Nn(r))}return t}function Vn(e){return ce(t=>e?Nn(t):t)}function Hi(e){return t=>le(e,Vn(t))}function Li(e){return(t,n)=>Ri(le(e,Vn(n)),t)}function Fi(){return ce(JSON.parse)}function Rn(e){const t=Hi(e);return n=>le(v(),Fi(),t(n))}function Hn(e){return ce(t=>{const n={};return new URLSearchParams(t).forEach((r,s)=>{const i=n[s];Array.isArray(i)?i.push(r):i===void 0?n[s]=r:n[s]=[i,r]}),Ri(e,n)})}function Wi(e){return t=>le(Vi([v(),qi(URLSearchParams)]),Hn(e),Vn(t))}const Ui=E(qn(()=>Gp())),Fp=Re({id:Dn(),photo_url:E(v()),type:v(),title:v(),username:E(v())}),Wp=Re({added_to_attachment_menu:E(Ve()),allows_write_to_pm:E(Ve()),first_name:v(),id:Dn(),is_bot:E(Ve()),is_premium:E(Ve()),last_name:E(v()),language_code:E(v()),photo_url:E(v()),username:E(v())}),Up=Re({auth_date:le(v(),ce(e=>new Date(Number(e)*1e3)),ji()),can_send_after:E(le(v(),ce(Number),Oi())),chat:E(qn(()=>zp())),chat_type:E(v()),chat_instance:E(v()),hash:v(),query_id:E(v()),receiver:Ui,start_param:E(v()),signature:v(),user:Ui}),zp=Rn(Fp),Gp=Rn(Wp),zi=Wi(Up);function he(e){return/^#[\da-f]{6}$/i.test(e)}function Gi(e){return/^#[\da-f]{3}$/i.test(e)}function Qi(e){const t=e.replace(/\s/g,"").toLowerCase();if(he(t))return t;if(Gi(t)){let r="#";for(let s=0;s<3;s+=1)r+=t[1+s].repeat(2);return r}const n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((r,s)=>r+parseInt(s,10).toString(16).padStart(2,"0"),"#")}const Qp=Hi(Di(v(),le(v(),Bi(he),ce(e=>e)))),Ln=E(le(v(),ce(e=>e==="1"))),Ji=Rn(Qp()),Jp=Re({tgWebAppBotInline:Ln,tgWebAppData:E(zi()),tgWebAppDefaultColors:E(Ji()),tgWebAppFullscreen:Ln,tgWebAppPlatform:v(),tgWebAppShowSettings:Ln,tgWebAppStartParam:E(v()),tgWebAppThemeParams:Ji(),tgWebAppVersion:v()}),Kp=Wi(Jp),Yp=Li(zi()),Zp=Li(Kp());function Fn(e,t){return t||(t=(n,r)=>JSON.stringify(r)),new URLSearchParams(Object.entries(e).reduce((n,[r,s])=>(Array.isArray(s)?n.push(...s.map(i=>[r,String(i)])):s!=null&&n.push([r,s instanceof Date?(s.getTime()/1e3|0).toString():typeof s=="string"||typeof s=="number"?String(s):typeof s=="boolean"?s?"1":"0":t(r,s)]),n),[])).toString()}function Ki(e){return Fn(e)}function Xp(e){return Fn(e,(t,n)=>t==="tgWebAppData"?Ki(n):JSON.stringify(n))}function Wn(e){const t=Qi(e);return Math.sqrt([.299,.587,.114].reduce((n,r,s)=>{const i=parseInt(t.slice(1+s*2,1+(s+1)*2),16);return n+i*i*r},0))<120}const[Un,Yi]=y(!1),[_e,Zi]=y({});function I(e){return b(()=>_e()[e])}const Xi=I("accentTextColor"),st=I("bgColor"),it=I("buttonColor"),zn=I("buttonTextColor"),Gn=I("bottomBarBgColor"),xi=I("destructiveTextColor"),ea=I("headerBgColor"),ta=I("hintColor"),na=b(()=>{const{bgColor:e}=_e();return!e||Wn(e)}),ra=I("linkColor"),He=I("secondaryBgColor"),oa=I("sectionBgColor"),sa=I("sectionHeaderTextColor"),ia=I("sectionSeparatorColor"),aa=I("subtitleTextColor"),ua=I("textColor");function be(e){return b(()=>at()[e])}const Le=Ie({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),at=b(()=>{const e=Le();return{...e,backgroundColor:e.backgroundColor||it()||"#2481cc",textColor:e.textColor||zn()||"#ffffff"}}),[Qn,Jn]=y(!1),ca=be("backgroundColor"),la=be("hasShineEffect"),pa=be("isEnabled"),da=be("isLoaderVisible"),fa=be("isVisible"),ma=be("text"),ha=be("textColor"),xp="web_app_setup_main_button",_a="main_button_pressed",ut="mainButton",Kn=te(ut),ed=nt(ut,Jn),ba=Kn("mount",()=>{if(!Qn()){const e=Y()&&K(ut);e&&Le.set(e),Qn.set(!0)}}),ya=Kn("onClick",e=>C(_a,e)),ga=Kn("offClick",e=>{B(_a,e)}),va=ed("setParams",e=>{Le.set({...Le(),...jn(e)}),J(ut,Le());const t=at();t.text&&_(xp,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})});function wa(){Qn.set(!1)}const td=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:ca,hasShineEffect:la,isEnabled:pa,isLoaderVisible:da,isMounted:Jn,isVisible:fa,mount:ba,offClick:ga,onClick:ya,setParams:va,state:at,text:ma,textColor:ha,unmount:wa},Symbol.toStringTag,{value:"Module"}));function Yn(e,t){document.documentElement.style.setProperty(e,t)}function Zn(e){document.documentElement.style.removeProperty(e)}const Fe="themeParams",Ea="theme_changed",nd=te(Fe),Sa=({theme_params:e})=>{_e.set(e),J(Fe,e)},[rd,od,sd,$a]=xe(Fe,e=>{const t=Y()&&K(Fe);return t?O.resolve(t):k("web_app_request_theme","theme_changed",e).then(n=>n.theme_params)},e=>{C(Ea,Sa),_e.set(e)}),Ca=nt(Fe,$a[0])("bindCssVars",e=>{if(Un())throw new Je;e||(e=r=>`--tg-theme-${Bl(r)}`);function t(r){Object.entries(_e()).forEach(([s,i])=>{i&&r(s,i)})}function n(){t((r,s)=>{Yn(e(r),s)})}return n(),_e.sub(n),Un.set(!0),()=>{t(Zn),_e.unsub(n),Un.set(!1)}}),Xn=nd("mount",rd),[,xn,Aa]=od,[,ka]=sd,[id,Pa]=$a;function Ma(){je(xn),B(Ea,Sa),id.set(!1)}function Ta(e){return b(()=>{const t=e();return he(t)?t:t==="bg_color"?st():He()})}const[ct,Ba]=y("bg_color"),lt=Ta(ct),[pt,Oa]=y("bottom_bar_bg_color"),dt=b(()=>{const e=pt();return he(e)?e:e==="bottom_bar_bg_color"?Gn()||He():e==="secondary_bg_color"?He():st()}),[ft,Ia]=y("bg_color"),er=Ta(ft),[tr,ja]=y(!1),qa=b(()=>{const e=lt();return e?Wn(e):!1}),[nr,Da]=y(!0),rr=b(()=>({backgroundColor:ct(),bottomBarColor:pt(),headerColor:ft(),isActive:nr()})),or="web_app_set_background_color",sr="web_app_set_bottom_bar_color",mt="web_app_set_header_color",Na="visibility_changed",ke="miniApp",ir={any:[or,sr,mt]},Va=b(()=>ir.any.some(e=>ae(e,ue()))),Ra=e=>{nr.set(e.is_visible),_t()},[ad,ud,cd,Ha]=xe(ke,e=>Xn(e).then(()=>Y()&&K(ke)||void 0),e=>{ur.ifAvailable(e?e.backgroundColor:"bg_color"),cr.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),lr.ifAvailable(e?e.headerColor:"bg_color"),nr.set(e?e.isActive:!0),C(Na,Ra)}),La=te(ke),ld=L(ke,ir),ht=me(ke,Ha[0],ir),Fa=ht("bindCssVars",e=>{if(tr())throw new Je;const[t,n]=Xt();function r(s,i){function a(){Yn(s,i()||null)}a(),t(i.sub(a),Zn.bind(null,s))}return e||(e=s=>`--tg-${Wo(s)}`),r(e("bgColor"),lt),r(e("bottomBarColor"),dt),r(e("headerColor"),er),t(()=>{tr.set(!1)}),tr.set(!0),n}),Wa=La("close",e=>{_("web_app_close",{return_back:e})}),Ua=ld("mount",ad),[,ar,za]=ud,[,Ga]=cd,[pd,Qa]=Ha,Ja=La("ready",()=>{_("web_app_ready")});function _t(){J(ke,rr())}const ur=ht("setBackgroundColor",e=>{e!==ct()&&(_(or,{color:e}),ct.set(e),_t())},or),cr=ht("setBottomBarColor",e=>{e!==pt()&&(_(sr,{color:e}),pt.set(e),_t())},sr),lr=ht("setHeaderColor",e=>{e!==ft()&&(_(mt,he(e)?{color:e}:{color_key:e}),ft.set(e),_t())},mt,{rgb:[mt,"color",he]});function Ka(){je(ar),B(Na,Ra),pd.set(!1)}const dd=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:Ba,backgroundColorRGB:lt,bindCssVars:Fa,bottomBarColor:Oa,bottomBarColorRGB:dt,close:Wa,headerColor:Ia,headerColorRGB:er,isActive:Da,isCssVarsBound:ja,isDark:qa,isMounted:Qa,isMounting:za,isSupported:Va,mount:Ua,mountError:Ga,mountPromise:ar,ready:Ja,setBackgroundColor:ur,setBottomBarColor:cr,setHeaderColor:lr,state:rr,unmount:Ka},Symbol.toStringTag,{value:"Module"}));function fd(e){const t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];if(n.length>64)throw new W(`Invalid title: ${n}`);if(!t||t.length>256)throw new W(`Invalid message: ${t}`);if(r.length>3)throw new W(`Invalid buttons count: ${r.length}`);return{title:n,message:t,buttons:r.length?r.map((s,i)=>{const a=s.id||"";if(a.length>64)throw new W(`Button with index ${i} has invalid id: ${a}`);if(!s.type||s.type==="default"||s.type==="destructive"){const u=s.text.trim();if(!u||u.length>64)throw new W(`Button with index ${i} has invalid text: ${u}`);return{type:s.type,text:u,id:a}}return{type:s.type,id:a}}):[{type:"close",id:""}]}}const pr="web_app_open_popup",md=L("popup",pr),Ya=Z(pr),[hd,_d,bd]=q(e=>k(pr,"popup_closed",{...e,params:fd(e)}).then(({button_id:t})=>t===void 0?null:t),"A popup is already opened"),Za=md("open",hd),[,Xa,xa]=_d,[,eu]=bd,yd=Object.freeze(Object.defineProperty({__proto__:null,isOpened:xa,isSupported:Ya,open:Za,openError:eu,openPromise:Xa},Symbol.toStringTag,{value:"Module"})),tu="web_app_close_scan_qr_popup",dr="web_app_open_scan_qr_popup",gd="scan_qr_popup_closed",vd="qr_text_received",nu=L("qrScanner",dr),ru=nu("close",()=>{_(tu),je(fr)}),ou=Z(dr);function wd(e){e||(e={});const{onCaptured:t,text:n,capture:r}=e,[,s]=Xt(C(gd,()=>{i.resolve()}),C(vd,a=>{t?t(a.data):(!r||r(a.data))&&(i.resolve(a.data),_(tu))})),i=new rp(e);return(e.postEvent||_)(dr,{text:n}),O.resolve(i).catch(ln).finally(s)}const[Ed,Sd,$d]=q(wd,"The QR Scanner is already opened"),su=nu("open",Ed),[,fr,iu]=Sd,[,au]=$d,Cd=Object.freeze(Object.defineProperty({__proto__:null,close:ru,isOpened:iu,isSupported:ou,open:su,openError:au,openPromise:fr},Symbol.toStringTag,{value:"Module"}));function pe(e){return b(()=>bt()[e])}const We=Ie({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),bt=b(()=>{const e=We();return{...e,backgroundColor:e.backgroundColor||dt()||"#000000",textColor:e.textColor||it()||"#2481cc"}}),[mr,hr]=y(!1),uu=pe("backgroundColor"),cu=pe("hasShineEffect"),lu=pe("isEnabled"),pu=pe("isLoaderVisible"),du=pe("isVisible"),fu=pe("position"),mu=pe("text"),hu=pe("textColor"),yt="web_app_setup_secondary_button",_u="secondary_button_pressed",gt="secondaryButton",_r=L(gt,yt),Ad=me(gt,hr,yt),bu=Z(yt),yu=_r("mount",()=>{if(!mr()){const e=Y()&&K(gt);e&&We.set(e),mr.set(!0)}}),gu=_r("onClick",e=>C(_u,e)),vu=_r("offClick",e=>{B(_u,e)}),wu=Ad("setParams",e=>{We.set({...We(),...jn(e)}),J(gt,We());const t=bt();t.text&&_(yt,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})});function Eu(){mr.set(!1)}const kd=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:uu,hasShineEffect:cu,isEnabled:lu,isLoaderVisible:pu,isMounted:hr,isSupported:bu,isVisible:du,mount:yu,offClick:vu,onClick:gu,position:fu,setParams:wu,state:bt,text:mu,textColor:hu,unmount:Eu},Symbol.toStringTag,{value:"Module"})),vt="web_app_setup_settings_button",Su="settings_button_pressed",wt="settingsButton",[$u,Cu]=y(!1),[Et,Au]=y(!1),ku=Z(vt),br=L(wt,vt),Pu=me(wt,Et,vt),Mu=Pu("hide",()=>{yr(!1)}),Tu=br("mount",()=>{Et()||(yr(Y()&&K(wt)||!1),Et.set(!0))});function yr(e){e!==$u()&&(_(vt,{is_visible:e}),J(wt,e),$u.set(e))}const Bu=br("onClick",e=>C(Su,e)),Ou=br("offClick",e=>{B(Su,e)}),Iu=Pu("show",()=>{yr(!0)});function ju(){Et.set(!1)}const Pd=Object.freeze(Object.defineProperty({__proto__:null,hide:Mu,isMounted:Au,isSupported:ku,isVisible:Cu,mount:Tu,offClick:Ou,onClick:Bu,show:Iu,unmount:ju},Symbol.toStringTag,{value:"Module"})),St="web_app_setup_swipe_behavior",$t="swipeBehavior",[Ue,qu]=y(!1),Du=Z(St),[gr,Nu]=y(!0),Md=L($t,St),Vu=me($t,Ue,St),Ru=Vu("disableVertical",()=>{vr(!1)}),Hu=Vu("enableVertical",()=>{vr(!0)}),Lu=Md("mount",()=>{Ue()||(vr(Y()&&K($t)||!1,!0),Ue.set(!0))});function vr(e,t){(e!==gr()||t)&&(_(St,{allow_vertical_swipe:e}),J($t,e),gr.set(e))}function Fu(){Ue.set(!1)}const Td=Object.freeze(Object.defineProperty({__proto__:null,_isMounted:Ue,_isVerticalEnabled:gr,disableVertical:Ru,enableVertical:Hu,isMounted:qu,isSupported:Du,isVerticalEnabled:Nu,mount:Lu,unmount:Fu},Symbol.toStringTag,{value:"Module"})),Bd=Object.freeze(Object.defineProperty({__proto__:null,accentTextColor:Xi,backgroundColor:st,bindCssVars:Ca,bottomBarBgColor:Gn,buttonColor:it,buttonTextColor:zn,destructiveTextColor:xi,headerBackgroundColor:ea,hintColor:ta,isCssVarsBound:Yi,isDark:na,isMounted:Pa,isMounting:Aa,linkColor:ra,mount:Xn,mountError:ka,mountPromise:xn,secondaryBackgroundColor:He,sectionBackgroundColor:oa,sectionHeaderTextColor:sa,sectionSeparatorColor:ia,state:Zi,subtitleTextColor:aa,textColor:ua,unmount:Ma},Symbol.toStringTag,{value:"Module"})),ye="viewport",wr="fullscreen_changed",Er="safe_area_changed",Sr="content_safe_area_changed",$r="viewport_changed",Wu=te(ye),Uu={left:0,top:0,bottom:0,right:0};function Cr(e){return Math.max(e,0)}const[Ar,kr]=y({contentSafeAreaInsets:Uu,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:Uu,stableHeight:0,width:0});function ge(e){return b(()=>kr()[e])}const Ct=ge("height"),At=ge("stableHeight"),Pr=ge("width"),zu=ge("isExpanded"),Gu=b(()=>Ct()===At());function Pe(e){const{height:t,stableHeight:n,width:r}=e;Ar.set({...Ar(),...jn({...e,height:t?Cr(t):void 0,width:r?Cr(r):void 0,stableHeight:n?Cr(n):void 0})}),J(ye,Ar())}function Od(){return K(ye)}function kt(e){return b(()=>Pt()[e])}const Pt=ge("contentSafeAreaInsets"),Mr=kt("bottom"),Tr=kt("left"),Br=kt("right"),Or=kt("top");function Mt(e){return b(()=>Tt()[e])}const Tt=ge("safeAreaInsets"),Ir=Mt("bottom"),jr=Mt("left"),qr=Mt("right"),Dr=Mt("top"),Qu="web_app_request_safe_area",Ju=L(ye,Qu),Nr=Ju("requestContentSafeAreaInsets",e=>k("web_app_request_content_safe_area",Sr,e));function Ku(e){return k("web_app_request_viewport",$r,e)}const Vr=Ju("requestSafeAreaInsets",e=>k(Qu,Er,e)),Yu=e=>{const{height:t}=e;Pe({isExpanded:e.is_expanded,height:t,width:e.width,stableHeight:e.is_state_stable?t:void 0})},Zu=e=>{Pe({isFullscreen:e.is_fullscreen})},Xu=e=>{Pe({safeAreaInsets:e})},xu=e=>{Pe({contentSafeAreaInsets:e})},[Id,jd,qd,Dd]=xe(ye,e=>{const t=Y()&&Od();return t?O.resolve(t):O.fn(async n=>{const r=await O.all([Vr.isAvailable()?Vr(n):Tt(),Nr.isAvailable()?Nr(n):Pt()]),s=nn(),i={contentSafeAreaInsets:r[1],isFullscreen:!!s.tgWebAppFullscreen,safeAreaInsets:r[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(s.tgWebAppPlatform)){const a=window;return{...i,height:a.innerHeight,isExpanded:!0,stableHeight:a.innerHeight,width:a.innerWidth}}return Ku(n).then(a=>({...i,height:a.height,isExpanded:a.is_expanded,stableHeight:a.is_state_stable?a.height:0,width:a.width}))},e)},e=>{C($r,Yu),C(wr,Zu),C(Er,Xu),C(Sr,xu),Pe(e)}),ec=Wu("mount",Id),[,Rr,tc]=jd,[,nc]=qd,[Hr,rc]=Dd;function oc(){je(Rr),B($r,Yu),B(wr,Zu),B(Er,Xu),B(Sr,xu),Hr.set(!1)}const Nd=nt(ye,Hr),[Lr,sc]=y(!1),ic=Nd("bindCssVars",e=>{if(Lr())throw new Je;e||(e=n=>`--tg-viewport-${Wo(n)}`);const t=[["height",Ct],["stableHeight",At],["width",Pr],["safeAreaInsetTop",Dr],["safeAreaInsetBottom",Ir],["safeAreaInsetLeft",jr],["safeAreaInsetRight",qr],["contentSafeAreaInsetTop",Or],["contentSafeAreaInsetBottom",Mr],["contentSafeAreaInsetLeft",Tr],["contentSafeAreaInsetRight",Br]].reduce((n,[r,s])=>{const i=e(r);if(i){const a=()=>{Yn(i,`${s()}px`)};n.push([a,s.sub(a),i])}return n},[]);return t.forEach(n=>{n[0]()}),Lr.set(!0),()=>{t.forEach(n=>{n[1](),Zn(n[2])}),Lr.set(!1)}}),ac=Wu("expand",()=>{_("web_app_expand")}),uc="web_app_request_fullscreen",Vd=me(ye,Hr,uc),Fr=ge("isFullscreen"),[Rd,cc]=y(),[Hd,lc]=y();function pc(e,t){return Vd(e,q(n=>k(t?uc:"web_app_exit_fullscreen",[wr,"fullscreen_failed"],n).then(r=>{if("error"in r&&r.error!=="ALREADY_FULLSCREEN")throw new es(r.error);const s="is_fullscreen"in r?r.is_fullscreen:!0;s!==Fr()&&Pe({isFullscreen:s})}),"Fullscreen mode change is already being requested",{promise:Rd,error:Hd})[0])}const dc=pc("requestFullscreen",!0),fc=pc("exitFullscreen"),Ld=Object.freeze(Object.defineProperty({__proto__:null,bindCssVars:ic,changeFullscreenError:lc,changeFullscreenPromise:cc,contentSafeAreaInsetBottom:Mr,contentSafeAreaInsetLeft:Tr,contentSafeAreaInsetRight:Br,contentSafeAreaInsetTop:Or,contentSafeAreaInsets:Pt,exitFullscreen:fc,expand:ac,height:Ct,isCssVarsBound:sc,isExpanded:zu,isFullscreen:Fr,isMounted:rc,isMounting:tc,isStable:Gu,mount:ec,mountError:nc,mountPromise:Rr,requestFullscreen:dc,safeAreaInsetBottom:Ir,safeAreaInsetLeft:jr,safeAreaInsetRight:qr,safeAreaInsetTop:Dr,safeAreaInsets:Tt,stableHeight:At,state:kr,unmount:oc,width:Pr},Symbol.toStringTag,{value:"Module"})),mc="web_app_request_emoji_status_access",[Fd,Wd,Ud]=q(e=>k(mc,"emoji_status_access_requested",e).then(t=>t.status),"Emoji status access request is already in progress"),zd=A("requestEmojiStatusAccess",Fd,{isSupported:mc}),[,Gd,Qd]=Wd,[,Jd]=Ud,hc="web_app_set_emoji_status",[Kd,Yd,Zd]=q((e,t)=>k(hc,["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:e,duration:(t||{}).duration},...t}).then(n=>{if(n&&"error"in n)throw new Xo(n.error)}),"Emoji status set request is currently in progress"),Xd=A("setEmojiStatus",Kd,{isSupported:hc}),[,xd,ef]=Yd,[,tf]=Zd,nf={isSupported:"web_app_add_to_home_screen"},_c="home_screen_failed",rf=A("onAddToHomeScreenFailed",(e,t)=>C(_c,e,t),{isSupported:"web_app_add_to_home_screen"}),of=A("offAddToHomeScreenFailed",e=>{B(_c,e)},nf),bc={isSupported:"web_app_add_to_home_screen"},yc="home_screen_added",sf=A("onAddedToHomeScreen",(e,t)=>C(yc,e,t),bc),af=A("offAddedToHomeScreen",e=>{B(yc,e)},bc),gc="web_app_add_to_home_screen",uf=A("addToHomeScreen",()=>{_(gc)},{isSupported:gc}),vc="web_app_check_home_screen",[cf,lf,pf]=q(e=>k(vc,"home_screen_checked",e).then(t=>t.status||"unknown"),"Check home screen status request is currently in progress"),df=A("checkHomeScreenStatus",cf,{isSupported:vc}),[,ff,mf]=lf,[,hf]=pf,_f=te()("openLink",(e,t)=>{if(typeof e=="string")try{e=new URL(e)}catch(n){throw new W(`"${e.toString()}" is invalid URL`,n)}t||(t={}),_("web_app_open_link",{url:e.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})}),wc="web_app_open_tg_link",Ec=te()("openTelegramLink",e=>{const t=e.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new W(`"${t}" is invalid URL`);if(!ae(wc,ue())){window.location.href=t;return}e=new URL(e),_(wc,{path_full:e.pathname+e.search})}),bf=te()("shareURL",(e,t)=>{Ec("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))});function yf(e,t){return new O({abortSignal:t,timeout:e}).catch(()=>{})}const Sc="web_app_request_phone",[gf,vf,wf]=q(e=>k(Sc,"phone_requested",e).then(t=>t.status),"Phone access request is currently in progress"),$c=A("requestPhoneAccess",gf,{isSupported:Sc}),[,Ef,Sf]=vf,[,$f]=wf;async function Cc(e){const t=await fe("getRequestedContact",{},{...e,timeout:(e||{}).timeout||5e3});return ot(qe(ni([U(),Xs(URLSearchParams)]),Hn(An({contact:qe(U(),Fi(),An({user_id:kn(),phone_number:U(),first_name:U(),last_name:xs(U())})),auth_date:qe(U(),$n(n=>new Date(Number(n)*1e3)),Cn()),hash:U()}))),t)}const[Cf,Af,kf]=q(e=>new O(async(t,n,r)=>{try{return t(await Cc(r))}catch(a){if(a instanceof Sn)throw a}if(await $c(r)!=="sent")throw new xo("User denied access");let i=50;for(;!r.isAborted();){try{return t(await Cc(r))}catch(a){if(a instanceof Sn)throw a}await yf(i),i+=50}},e),"Contact is already being requested"),Pf=A("requestContact",Cf,{isSupported:"web_app_request_phone"}),[,Mf,Tf]=Af,[,Bf]=kf,Ac="web_app_request_write_access",[Of,If,jf]=q(e=>k(Ac,"write_access_requested",e).then(t=>t.status),"Write access request is currently in progress"),qf=A("requestWriteAccess",Of,{isSupported:Ac}),[,Df,Nf]=If,[,Vf]=jf,Rf=A("getCurrentTime",e=>fe("getCurrentTime",{},e).then(t=>ot(qe(kn(),Ks(),$n(n=>new Date(n*1e3)),Cn()),t)),{isSupported:"web_app_invoke_custom_method"}),kc="web_app_read_text_from_clipboard",Hf=A("readTextFromClipboard",e=>{const t=rn();return k(kc,"clipboard_text_received",{...e,params:{req_id:t},capture:Ho(t)}).then(({data:n=null})=>n)},{isSupported:kc}),Lf=A("sendData",e=>{const{size:t}=new Blob([e]);if(!t||t>4096)throw new W(t?"Maximum size of data to send is 4096 bytes":"Attempted to send empty data");_("web_app_data_send",{data:e})},{isSupported(){return nn().tgWebAppBotInline?void 0:"The application must be launched in the inline mode"}}),Pc="web_app_share_to_story",Ff=A("shareStory",(e,t)=>{t||(t={}),_(Pc,{text:t.text,media_url:e,widget_link:t.widgetLink})},{isSupported:Pc}),Wf="web_app_switch_inline_query",Uf=A("switchInlineQuery",(e,t)=>{_(Wf,{query:e,chat_types:t||[]})});function zf(e){try{return[!0,e()]}catch(t){return[!1,t]}}function Gf(e){Ko(e);const[t,n]=Xt(C("reload_iframe",()=>{en(!1,"Received a request to reload the page"),_("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:r=!0}=e||{};if(r){const s=document.createElement("style");s.id="telegram-custom-styles",document.head.appendChild(s),t(C("set_custom_style",i=>{s.innerHTML=i}),()=>{document.head.removeChild(s)})}return _("iframe_ready",{reload_supported:!0}),en(!1,"The package was initialized"),n}return o.AccessDeniedError=xo,o.CSSVarsBoundError=Je,o.ConcurrentCallError=Zo,o.FullscreenFailedError=es,o.FunctionUnavailableError=Ce,o.InvalidArgumentsError=W,o.InvalidEnvError=Ll,o.InvalidLaunchParamsError=Io,o.InvokeCustomMethodError=qo,o.LaunchParamsRetrieveError=Oo,o.MethodParameterUnsupportedError=Bo,o.MethodUnsupportedError=To,o.NotAvailableError=Yo,o.SetEmojiStatusError=Xo,o.UnknownEnvError=jo,o.addToHomeScreen=uf,o.authenticateBiometry=Ts,o.backButton=Kl,o.bindMiniAppCssVars=Fa,o.bindThemeParamsCssVars=Ca,o.bindViewportCssVars=ic,o.biometry=_p,o.biometryAuthError=Os,o.biometryAuthPromise=hn,o.biometryMountError=Ps,o.biometryState=ys,o.changeFullscreenError=lc,o.changeFullscreenPromise=cc,o.checkHomeScreenStatus=df,o.checkHomeScreenStatusError=hf,o.checkHomeScreenStatusPromise=ff,o.closeMiniApp=Wa,o.closeQrScanner=ru,o.closingBehavior=yp,o.cloudStorage=Ap,o.configure=Ko,o.createPostEvent=Fo,o.createRequestId=rn,o.deleteCloudStorageItem=Pn,o.disableClosingConfirmation=Fs,o.disableVerticalSwipes=Ru,o.emitEvent=zt,o.enableClosingConfirmation=Ws,o.enableVerticalSwipes=Hu,o.exitFullscreen=fc,o.expandViewport=ac,o.getCloudStorageItem=si,o.getCloudStorageKeys=Mn,o.getCurrentTime=Rf,o.hapticFeedback=kp,o.hapticFeedbackImpactOccurred=ui,o.hapticFeedbackNotificationOccurred=ci,o.hapticFeedbackSelectionChanged=li,o.hideBackButton=as,o.hideSettingsButton=Mu,o.ignoreCanceled=ln,o.init=Gf,o.initData=Mp,o.initDataAuthDate=Bn,o.initDataCanSendAfter=On,o.initDataCanSendAfterDate=fi,o.initDataChat=mi,o.initDataChatInstance=_i,o.initDataChatType=hi,o.initDataHash=bi,o.initDataQueryId=yi,o.initDataRaw=gi,o.initDataReceiver=vi,o.initDataStartParam=Ei,o.initDataState=di,o.initDataUser=Si,o.invoice=qp,o.invokeCustomMethod=fe,o.isAccessDeniedError=Ql,o.isAuthenticatingBiometry=Bs,o.isBackButtonMounted=os,o.isBackButtonSupported=ss,o.isBackButtonVisible=rs,o.isBiometryAvailable=gs,o.isBiometryMounted=Ms,o.isBiometryMounting=ks,o.isBiometrySupported=$s,o.isCSSVarsBoundError=Rl,o.isCheckingHomeScreenStatus=mf,o.isClosingBehaviorMounted=yn,o.isClosingConfirmationEnabled=Hs,o.isCloudStorageSupported=oi,o.isColorDark=Wn,o.isConcurrentCallError=zl,o.isFullscreen=Fr,o.isFullscreenFailedError=Jl,o.isFunctionNotAvailableError=Wl,o.isHapticFeedbackSupported=ai,o.isInvalidArguments=Ul,o.isInvalidEnvError=Fl,o.isInvalidLaunchParamsError=El,o.isInvoiceOpened=ki,o.isInvoiceSupported=$i,o.isInvokeCustomMethodError=$l,o.isLaunchParamsRetrieveError=wl,o.isMainButtonEnabled=pa,o.isMainButtonLoaderVisible=da,o.isMainButtonMounted=Jn,o.isMainButtonVisible=fa,o.isMethodMethodParameterUnsupportedError=gl,o.isMethodUnsupportedError=yl,o.isMiniAppActive=Da,o.isMiniAppCssVarsBound=ja,o.isMiniAppDark=qa,o.isMiniAppMounted=Qa,o.isMiniAppMounting=za,o.isMiniAppSupported=Va,o.isNotAvailableError=Hl,o.isPopupOpened=xa,o.isPopupSupported=Ya,o.isQrScannerOpened=iu,o.isQrScannerSupported=ou,o.isRGB=he,o.isRGBShort=Gi,o.isRequestingBiometryAccess=qs,o.isRequestingContact=Tf,o.isRequestingEmojiStatusAccess=Qd,o.isRequestingPhoneAccess=Sf,o.isRequestingWriteAccess=Nf,o.isSSR=on,o.isSecondaryButtonEnabled=lu,o.isSecondaryButtonLoaderVisible=pu,o.isSecondaryButtonMounted=hr,o.isSecondaryButtonSupported=bu,o.isSecondaryButtonVisible=du,o.isSetEmojiStatusError=Gl,o.isSettingEmojiStatus=ef,o.isSettingsButtonMounted=Au,o.isSettingsButtonSupported=ku,o.isSettingsButtonVisible=Cu,o.isSwipeBehaviorMounted=qu,o.isSwipeBehaviorSupported=Du,o.isTMA=Zt,o.isThemeParamsCssVarsBound=Yi,o.isThemeParamsDark=na,o.isThemeParamsMounted=Pa,o.isThemeParamsMounting=Aa,o.isUnknownEnvError=Sl,o.isVerticalSwipesEnabled=Nu,o.isViewportCssVarsBound=sc,o.isViewportExpanded=zu,o.isViewportMounted=rc,o.isViewportMounting=tc,o.isViewportStable=Gu,o.mainButton=td,o.mainButtonBackgroundColor=ca,o.mainButtonHasShineEffect=la,o.mainButtonState=at,o.mainButtonText=ma,o.mainButtonTextColor=ha,o.miniApp=dd,o.miniAppBackgroundColor=Ba,o.miniAppBackgroundColorRGB=lt,o.miniAppBottomBarColor=Oa,o.miniAppBottomBarColorRGB=dt,o.miniAppHeaderColor=Ia,o.miniAppHeaderColorRGB=er,o.miniAppMountError=Ga,o.miniAppMountPromise=ar,o.miniAppReady=Ja,o.miniAppState=rr,o.mockTelegramEnv=Pl,o.mountBackButton=us,o.mountBiometry=As,o.mountBiometryPromise=mn,o.mountClosingBehavior=Us,o.mountMainButton=ba,o.mountMiniApp=Ua,o.mountSecondaryButton=yu,o.mountSettingsButton=Tu,o.mountSwipeBehavior=Lu,o.mountThemeParams=Xn,o.mountViewport=ec,o.off=B,o.offAddToHomeScreenFailed=of,o.offAddedToHomeScreen=af,o.offBackButtonClick=ls,o.offMainButtonClick=ga,o.offSecondaryButtonClick=vu,o.offSettingsButtonClick=Ou,o.on=C,o.onAddToHomeScreenFailed=rf,o.onAddedToHomeScreen=sf,o.onBackButtonClick=cs,o.onMainButtonClick=ya,o.onSecondaryButtonClick=gu,o.onSettingsButtonClick=Bu,o.openBiometrySettings=Is,o.openInvoice=Ci,o.openInvoiceError=Pi,o.openInvoicePromise=Ai,o.openLink=_f,o.openPopup=Za,o.openPopupError=eu,o.openPopupPromise=Xa,o.openQrScanner=su,o.openQrScannerError=au,o.openQrScannerPromise=fr,o.openTelegramLink=Ec,o.parseInitDataQuery=Yp,o.parseLaunchParamsQuery=Zp,o.popup=yd,o.postEvent=_,o.qrScanner=Cd,o.readTextFromClipboard=Hf,o.request=k,o.requestBiometry=ws,o.requestBiometryAccess=js,o.requestBiometryAccessError=Ds,o.requestBiometryAccessPromise=_n,o.requestContact=Pf,o.requestContactError=Bf,o.requestContactPromise=Mf,o.requestContentSafeAreaInsets=Nr,o.requestEmojiStatusAccess=zd,o.requestEmojiStatusAccessError=Jd,o.requestEmojiStatusAccessPromise=Gd,o.requestFullscreen=dc,o.requestPhoneAccess=$c,o.requestPhoneAccessError=$f,o.requestPhoneAccessPromise=Ef,o.requestSafeAreaInsets=Vr,o.requestViewport=Ku,o.requestWriteAccess=qf,o.requestWriteAccessError=Vf,o.requestWriteAccessPromise=Df,o.restoreInitData=wi,o.retrieveLaunchParams=Qe,o.retrieveRawInitData=Ro,o.retrieveRawLaunchParams=Yt,o.safeCall=zf,o.secondaryButton=kd,o.secondaryButtonBackgroundColor=uu,o.secondaryButtonHasShineEffect=cu,o.secondaryButtonPosition=fu,o.secondaryButtonState=bt,o.secondaryButtonText=mu,o.secondaryButtonTextColor=hu,o.sendData=Lf,o.serializeInitDataQuery=Ki,o.serializeLaunchParamsQuery=Xp,o.serializeToQuery=Fn,o.setCloudStorageItem=ii,o.setDebug=Nl,o.setEmojiStatus=Xd,o.setEmojiStatusError=tf,o.setEmojiStatusPromise=xd,o.setMainButtonParams=va,o.setMiniAppBackgroundColor=ur,o.setMiniAppBottomBarColor=cr,o.setMiniAppHeaderColor=lr,o.setSecondaryButtonParams=wu,o.settingsButton=Pd,o.shareStory=Ff,o.shareURL=bf,o.showBackButton=ps,o.showSettingsButton=Iu,o.supports=ae,o.swipeBehavior=Td,o.switchInlineQuery=Uf,o.targetOrigin=Do,o.themeParams=Bd,o.themeParamsAccentTextColor=Xi,o.themeParamsBackgroundColor=st,o.themeParamsBottomBarBgColor=Gn,o.themeParamsButtonColor=it,o.themeParamsButtonTextColor=zn,o.themeParamsDestructiveTextColor=xi,o.themeParamsHeaderBackgroundColor=ea,o.themeParamsHintColor=ta,o.themeParamsLinkColor=ra,o.themeParamsMountError=ka,o.themeParamsMountPromise=xn,o.themeParamsSecondaryBackgroundColor=He,o.themeParamsSectionBackgroundColor=oa,o.themeParamsSectionHeaderTextColor=sa,o.themeParamsSectionSeparatorColor=ia,o.themeParamsState=Zi,o.themeParamsSubtitleTextColor=aa,o.themeParamsTextColor=ua,o.toRGB=Qi,o.transformQueryUsing=Hn,o.unmountBackButton=ds,o.unmountBiometry=Ns,o.unmountClosingBehavior=zs,o.unmountMainButton=wa,o.unmountMiniApp=Ka,o.unmountSecondaryButton=Eu,o.unmountSettingsButton=ju,o.unmountSwipeBehavior=Fu,o.unmountThemeParams=Ma,o.unmountViewport=oc,o.updateBiometryToken=Vs,o.viewport=Ld,o.viewportContentSafeAreaInsetBottom=Mr,o.viewportContentSafeAreaInsetLeft=Tr,o.viewportContentSafeAreaInsetRight=Br,o.viewportContentSafeAreaInsetTop=Or,o.viewportContentSafeAreaInsets=Pt,o.viewportHeight=Ct,o.viewportMountError=nc,o.viewportMountPromise=Rr,o.viewportSafeAreaInsetBottom=Ir,o.viewportSafeAreaInsetLeft=jr,o.viewportSafeAreaInsetRight=qr,o.viewportSafeAreaInsetTop=Dr,o.viewportSafeAreaInsets=Tt,o.viewportStableHeight=At,o.viewportState=kr,o.viewportWidth=Pr,o.wrapSafe=A,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),o}({});
//# sourceMappingURL=index.iife.js.map
