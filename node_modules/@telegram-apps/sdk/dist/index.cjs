"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});function wo(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function Pc(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function Mc(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function we(e,t,n,r,o){const s=o&&"input"in o?o.input:n.value,i=(o==null?void 0:o.expected)??e.expects??null,a=(o==null?void 0:o.received)??Mc(s),u={kind:e.kind,type:e.type,input:s,expected:i,received:a,message:`Invalid ${t}: ${i?`Expected ${i} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",l=(o==null?void 0:o.message)??e.message??Pc(e.reference,u.lang)??(c?(u.lang,void 0):null)??r.message??(u.lang,void 0);l&&(u.message=typeof l=="function"?l(u):l),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function z(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},wo())}}}function xc(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}var Tc=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function _n(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Ye(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function So(){return{kind:"schema",type:"any",reference:So,expects:"any",async:!1,get"~standard"(){return z(this)},"~run"(e){return e.typed=!0,e}}}function Ft(e){return{kind:"schema",type:"boolean",reference:Ft,expects:"boolean",async:!1,message:e,get"~standard"(){return z(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:we(this,"type",t,n),t}}}function bn(e){return{kind:"schema",type:"function",reference:bn,expects:"Function",async:!1,message:e,get"~standard"(){return z(this)},"~run"(t,n){return typeof t.value=="function"?t.typed=!0:we(this,"type",t,n),t}}}function U(e,t){return{kind:"schema",type:"loose_object",reference:U,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return z(this)},"~run"(n,r){var o;const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};for(const i in this.entries){const a=this.entries[i];if(i in s||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const u=i in s?s[i]:_n(a),c=a["~run"]({value:u},r);if(c.issues){const l={type:"object",origin:"value",input:s,key:i,value:u};for(const p of c.issues)p.path?p.path.unshift(l):p.path=[l],(o=n.issues)==null||o.push(p);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[i]=c.value}else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(we(this,"key",n,r,{input:void 0,expected:`"${i}"`,path:[{type:"object",origin:"key",input:s,key:i,value:s[i]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const i in s)xc(s,i)&&!(i in this.entries)&&(n.value[i]=s[i])}else we(this,"type",n,r);return n}}}function Me(e,t){return{kind:"schema",type:"nullish",reference:Me,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return z(this)},"~run"(n,r){return(n.value===null||n.value===void 0)&&(this.default!==void 0&&(n.value=_n(this,n,r)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Wt(e){return{kind:"schema",type:"number",reference:Wt,expects:"number",async:!1,message:e,get"~standard"(){return z(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:we(this,"type",t,n),t}}}function Ut(e,t){return{kind:"schema",type:"optional",reference:Ut,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return z(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=_n(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function oe(e){return{kind:"schema",type:"string",reference:oe,expects:"string",async:!1,message:e,get"~standard"(){return z(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:we(this,"type",t,n),t}}}function $o(){return{kind:"schema",type:"unknown",reference:$o,expects:"unknown",async:!1,get"~standard"(){return z(this)},"~run"(e){return e.typed=!0,e}}}function zt(e,t,n){const r=e["~run"]({value:t},wo(n));if(r.issues)throw new Tc(r.issues);return r.value}function Co(...e){return{...e[0],pipe:e,get"~standard"(){return z(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function Ao(e){return Ye(U({TelegramWebviewProxy:U({postEvent:bn()})}),e)}function ko(){try{return window.self!==window.top}catch{return!0}}var Bc=Object.defineProperty,Oc=(e,t,n)=>t in e?Bc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zr=(e,t,n)=>Oc(e,typeof t!="symbol"?t+"":t,n);function Ic(e){return t=>t instanceof e}function Po(e,t){t||(t=[]);class n extends Error{constructor(...o){const s=typeof t=="function"?t(...o):typeof t=="string"?[t]:t||[];super(...s),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Ic(n)]}const[jc,Kf]=Po("CancelledError","Promise was canceled"),[qc,Yf]=Po("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),Mo=Symbol("Resolved");function Gr(e){return Array.isArray(e)&&e[0]===Mo}function Dc(e){return[Mo,e]}function Qr(e,t){return e.reject=t.reject,e.abort=t.abort,e}let xo=class Gt extends Promise{constructor(t,n){let r,o;super((s,i)=>{let a,u;typeof t=="function"?(a=t,u=n):u=t;const c=[],l=d=>(...I)=>{const X=d(...I);return c.forEach(xt=>xt()),X},p=new AbortController,{signal:m}=p;o=d=>{!m.aborted&&p.abort(d)};const f=()=>m.reason,k=d=>{const I=()=>{d(f())};m.addEventListener("abort",I,!0);const X=()=>{m.removeEventListener("abort",I,!0)};return c.push(X),X},ge=l(d=>{s(d),o(Dc(d))});r=l(d=>{i(d),o(d)}),u||(u={});const{abortSignal:P,rejectOnAbort:re=!0}=u;if(P)if(P.aborted){const{reason:d}=P;if(re)return r(d);o(d)}else{const d=()=>{o(P.reason)};P.addEventListener("abort",d),c.push(()=>{P.removeEventListener("abort",d)})}re&&k(i);const{timeout:w}=u;if(w){const d=setTimeout(()=>{o(new qc(w))},w);c.push(()=>{clearTimeout(d)})}const S=()=>m.aborted,O=()=>Gr(f()),V=()=>{const d=f();return Gr(d)?d[1]:void 0};try{const d=a&&a(ge,r,{abortReason:f,abortSignal:m,isAborted:S,isResolved:O,onAborted:k,onResolved:I=>k(()=>{O()&&I(V())}),resolved:V,throwIfAborted(){if(S())throw f()}});d instanceof Promise&&d.catch(r)}catch(d){r(d)}}),zr(this,"abort"),zr(this,"reject"),this.abort=o,this.reject=r}static fn(t,n){return new Gt(async(r,o,s)=>{try{r(await t(s))}catch(i){o(i)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new Gt((n,r)=>{r(t)})}cancel(){this.abort(new jc)}catch(t){return this.then(void 0,t)}finally(t){return Qr(super.finally(t),this)}then(t,n){return Qr(super.then(t,n),this)}};function Nc(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function Vc(e){return Object.entries(e).reduce((t,[n,r])=>(t[Nc(n)]=r,t),{})}function Qt(e){const t=Vc(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(Qt):Qt(r))}return t}function To(e){return`tapps/${e}`}function Bo(e,t){sessionStorage.setItem(To(e),JSON.stringify(t))}function Rc(e){const t=sessionStorage.getItem(To(e));try{return t?JSON.parse(t):void 0}catch{}}function Hc(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function Lc(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:o}=t,s=o===void 0?!0:o,i=typeof s=="boolean"?()=>s:s;function a(u,c,...l){if(c||i()){const p="font-weight:bold;padding:0 5px;border-radius:5px";console[u](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${p};background-color: lightblue;color:black`,"",`${p};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...l)}}return[a.bind(void 0,"log"),a.bind(void 0,"error")]}function Oo(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function Fc(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function Wc(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function j(e,t,n,r,o){const s=o&&"input"in o?o.input:n.value,i=(o==null?void 0:o.expected)??e.expects??null,a=(o==null?void 0:o.received)??Wc(s),u={kind:e.kind,type:e.type,input:s,expected:i,received:a,message:`Invalid ${t}: ${i?`Expected ${i} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",l=(o==null?void 0:o.message)??e.message??Fc(e.reference,u.lang)??(c?(u.lang,void 0):null)??r.message??(u.lang,void 0);l&&(u.message=typeof l=="function"?l(u):l),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function R(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Oo())}}}function Io(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function Uc(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var zc=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function jo(e,t){return{kind:"validation",type:"check",reference:jo,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&j(this,"input",n,r),n}}}function qo(e){return{kind:"validation",type:"integer",reference:qo,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&j(this,"integer",t,n),t}}}function ie(e){return{kind:"transformation",type:"transform",reference:ie,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function Do(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Gc(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function xe(e){return{kind:"schema",type:"boolean",reference:xe,expects:"boolean",async:!1,message:e,get"~standard"(){return R(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:j(this,"type",t,n),t}}}function No(e){return{kind:"schema",type:"date",reference:No,expects:"Date",async:!1,message:e,get"~standard"(){return R(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?j(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:j(this,"type",t,n),t}}}function Vo(e,t){return{kind:"schema",type:"instance",reference:Vo,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return R(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:j(this,"type",n,r),n}}}function yn(e){return{kind:"schema",type:"lazy",reference:yn,expects:"unknown",async:!1,getter:e,get"~standard"(){return R(this)},"~run"(t,n){return this.getter(t.value)["~run"](t,n)}}}function Ce(e,t){return{kind:"schema",type:"loose_object",reference:Ce,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return R(this)},"~run"(n,r){var o;const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};for(const i in this.entries){const a=this.entries[i];if(i in s||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const u=i in s?s[i]:Do(a),c=a["~run"]({value:u},r);if(c.issues){const l={type:"object",origin:"value",input:s,key:i,value:u};for(const p of c.issues)p.path?p.path.unshift(l):p.path=[l],(o=n.issues)==null||o.push(p);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[i]=c.value}else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(j(this,"key",n,r,{input:void 0,expected:`"${i}"`,path:[{type:"object",origin:"key",input:s,key:i,value:s[i]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const i in s)Io(s,i)&&!(i in this.entries)&&(n.value[i]=s[i])}else j(this,"type",n,r);return n}}}function gn(e){return{kind:"schema",type:"number",reference:gn,expects:"number",async:!1,message:e,get"~standard"(){return R(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:j(this,"type",t,n),t}}}function v(e,t){return{kind:"schema",type:"optional",reference:v,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return R(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Do(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Ro(e,t,n){return{kind:"schema",type:"record",reference:Ro,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return R(this)},"~run"(r,o){var s,i;const a=r.value;if(a&&typeof a=="object"){r.typed=!0,r.value={};for(const u in a)if(Io(a,u)){const c=a[u],l=this.key["~run"]({value:u},o);if(l.issues){const m={type:"object",origin:"key",input:a,key:u,value:c};for(const f of l.issues)f.path=[m],(s=r.issues)==null||s.push(f);if(r.issues||(r.issues=l.issues),o.abortEarly){r.typed=!1;break}}const p=this.value["~run"]({value:c},o);if(p.issues){const m={type:"object",origin:"value",input:a,key:u,value:c};for(const f of p.issues)f.path?f.path.unshift(m):f.path=[m],(i=r.issues)==null||i.push(f);if(r.issues||(r.issues=p.issues),o.abortEarly){r.typed=!1;break}}(!l.typed||!p.typed)&&(r.typed=!1),l.typed&&(r.value[l.value]=p.value)}}else j(this,"type",r,o);return r}}}function y(e){return{kind:"schema",type:"string",reference:y,expects:"string",async:!1,message:e,get"~standard"(){return R(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:j(this,"type",t,n),t}}}function Jr(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function Ho(e,t){return{kind:"schema",type:"union",reference:Ho,expects:Uc(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return R(this)},"~run"(n,r){let o,s,i;for(const a of this.options){const u=a["~run"]({value:n.value},r);if(u.typed)if(u.issues)s?s.push(u):s=[u];else{o=u;break}else i?i.push(u):i=[u]}if(o)return o;if(s){if(s.length===1)return s[0];j(this,"type",n,r,{issues:Jr(s)}),n.typed=!0}else{if((i==null?void 0:i.length)===1)return i[0];j(this,"type",n,r,{issues:Jr(i)})}return n}}}function Lo(){return{kind:"schema",type:"unknown",reference:Lo,expects:"unknown",async:!1,get"~standard"(){return R(this)},"~run"(e){return e.typed=!0,e}}}function Fo(e,t,n){const r=e["~run"]({value:t},Oo(n));if(r.issues)throw new zc(r.issues);return r.value}function ae(...e){return{...e[0],pipe:e,get"~standard"(){return R(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function Qc(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function Jc(e){return Object.entries(e).reduce((t,[n,r])=>(t[Qc(n)]=r,t),{})}function Jt(e){const t=Jc(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(Jt):Jt(r))}return t}function vn(e){return ie(t=>e?Jt(t):t)}function Wo(e){return t=>ae(e,vn(t))}function Kc(e){return(t,n)=>Fo(ae(e,vn(n)),t)}function En(){return ie(JSON.parse)}function wn(e){const t=Wo(e);return n=>ae(y(),En(),t(n))}function Yc(e){return ie(t=>{const n={};return new URLSearchParams(t).forEach((r,o)=>{const s=n[o];Array.isArray(s)?s.push(r):s===void 0?n[o]=r:n[o]=[s,r]}),Fo(e,n)})}function Uo(e){return t=>ae(Ho([y(),Vo(URLSearchParams)]),Yc(e),vn(t))}const Kr=v(yn(()=>nl())),Zc=Ce({id:gn(),photo_url:v(y()),type:y(),title:y(),username:v(y())}),Xc=Ce({added_to_attachment_menu:v(xe()),allows_write_to_pm:v(xe()),first_name:y(),id:gn(),is_bot:v(xe()),is_premium:v(xe()),last_name:v(y()),language_code:v(y()),photo_url:v(y()),username:v(y())}),el=Ce({auth_date:ae(y(),ie(e=>new Date(Number(e)*1e3)),No()),can_send_after:v(ae(y(),ie(Number),qo())),chat:v(yn(()=>tl())),chat_type:v(y()),chat_instance:v(y()),hash:y(),query_id:v(y()),receiver:Kr,start_param:v(y()),signature:y(),user:Kr}),tl=wn(Zc),nl=wn(Xc),rl=Uo(el);function ol(e){return/^#[\da-f]{6}$/i.test(e)}const sl=Wo(Ro(y(),ae(y(),jo(ol),ie(e=>e)))),Tt=v(ae(y(),ie(e=>e==="1"))),Yr=wn(sl()),il=Ce({tgWebAppBotInline:Tt,tgWebAppData:v(rl()),tgWebAppDefaultColors:v(Yr()),tgWebAppFullscreen:Tt,tgWebAppPlatform:y(),tgWebAppShowSettings:Tt,tgWebAppStartParam:v(y()),tgWebAppThemeParams:Yr(),tgWebAppVersion:y()}),zo=Uo(il),al=Kc(zo()),Go=Ce({eventType:y(),eventData:v(Lo())});function Qo(e,t){return t||(t=(n,r)=>JSON.stringify(r)),new URLSearchParams(Object.entries(e).reduce((n,[r,o])=>(Array.isArray(o)?n.push(...o.map(s=>[r,String(s)])):o!=null&&n.push([r,o instanceof Date?(o.getTime()/1e3|0).toString():typeof o=="string"||typeof o=="number"?String(o):typeof o=="boolean"?o?"1":"0":t(r,o)]),n),[])).toString()}function ul(e){return Qo(e)}function cl(e){return Qo(e,(t,n)=>t==="tgWebAppData"?ul(n):JSON.stringify(n))}function Jo(e){try{return Gc(zo(),e)}catch{return!1}}function ll(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(o){o(n)}),(r=e.get("*"))&&r.slice().map(function(o){o(t,n)})}}}function pl(e,t){const n=ll(),r=new Map,o=(s,i,a)=>{a||(a=!1);const u=r.get(s)||new Map;r.set(s,u);const c=u.get(i)||[];u.set(i,c);const l=c.findIndex(p=>p[1]===a);l>=0&&(n.off(s,c[l][0]),c.splice(l,1),!c.length&&u.delete(i),u.size||(r.delete(s),!r.size&&t()))};return[function(s,i,a){!r.size&&e();function u(){o(s,i,a)}function c(...m){a&&u(),s==="*"?i(m):i(...m)}n.on(s,c);const l=r.get(s)||new Map;r.set(s,l);const p=l.get(i)||[];return l.set(i,p),p.push([c,a||!1]),u},o,n.emit,function(){const s=n.all.size;n.all.clear(),r.clear(),s&&t()}]}function Kt(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}let We=!1;const[Sn,dl]=Lc("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog(){return We}}),Zr=e=>{Sn(!1,"Event received:",e)};function fl(e){e!==We&&(We=e,We?$("*",Zr):x("*",Zr))}const ml={clipboard_text_received:U({req_id:oe(),data:Me(oe())}),custom_method_invoked:U({req_id:oe(),result:Ut($o()),error:Ut(oe())}),popup_closed:Me(U({button_id:Me(oe(),()=>{})}),{}),viewport_changed:U({height:Wt(),width:Me(Wt(),()=>window.innerWidth),is_state_stable:Ft(),is_expanded:Ft()})};function Xr(e){if(e.source!==window.parent)return;let t;try{t=zt(Co(oe(),En(),Go),e.data)}catch{return}const{eventType:n,eventData:r}=t,o=ml[n];try{const s=o?zt(o,r):r;hl(n,s)}catch(s){dl(!0,[`An error occurred processing the "${n}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),t,s)}}const[$,x,hl,Zf]=pl(()=>{const e=window,t={receiveEvent:Kt};e.TelegramGameProxy_receiveEvent=Kt,e.TelegramGameProxy=t,e.Telegram={WebView:t},window.addEventListener("message",Xr)},()=>{["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]}),window.removeEventListener("message",Xr)});function _l(e){return t=>t instanceof e}function Ae(e,t){t||(t=[]);class n extends Error{constructor(...o){const s=typeof t=="function"?t(...o):typeof t=="string"?[t]:t||[];super(...s),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,_l(n)]}const[Ko,bl]=Ae("MethodUnsupportedError",(e,t)=>[`Method "${e}" is unsupported in Mini Apps version ${t}`]),[Yo,yl]=Ae("MethodParameterUnsupportedError",(e,t,n)=>[`Parameter "${t}" of "${e}" method is unsupported in Mini Apps version ${n}`]),gl=["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","ðŸ“– Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment"].join(`
`),[Zo,vl]=Ae("LaunchParamsRetrieveError",gl),[Xo,El]=Ae("InvalidLaunchParamsError",e=>[`Invalid value for launch params: ${e}`]),[es,wl]=Ae("UnknownEnvError"),[ts,Sl]=Ae("InvokeCustomMethodError",e=>[`Server returned error: ${e}`]);function $l(e,t){t()}function Cl(e,t){t||(t={});const n=t.equals||Object.is;let r=[],o=e;const s=c=>{if(!n(o,c)){const l=o;o=c,$l(u,()=>{[...r].forEach(([p,m])=>{p(c,l),m&&a(p,!0)})})}};function i(c){const l=typeof c!="object"?{once:c}:c;return{once:l.once||!1,signal:l.signal||!1}}const a=(c,l)=>{const p=i(l),m=r.findIndex(([f,k])=>f===c&&k.once===p.once&&k.signal===p.signal);m>=0&&r.splice(m,1)},u=Object.assign(function(){return Al(u),o},{destroy(){r=[]},set:s,reset(){s(e)},sub(c,l){return r.push([c,i(l)]),()=>a(c,l)},unsub:a,unsubAll(){r=r.filter(c=>c[1].signal)}});return u}const Bt=[];function Al(e){Bt.length&&Bt[Bt.length-1].add(e)}const ns=Cl("https://web.telegram.org");function $n(e,t){Sn(!1,"Posting event:",t?{eventType:e,eventData:t}:{eventType:e});const n=window,r=JSON.stringify({eventType:e,eventData:t});if(ko())return n.parent.postMessage(r,ns());if(Ao(n)){n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}if(Ye(U({external:U({notify:bn()})}),n)){n.external.notify(r);return}throw new es}function Cn(e,t,n){n||(n={});const{capture:r}=n,[o,s]=Hc();return new xo(i=>{(Array.isArray(t)?t:[t]).forEach(a=>{o($(a,u=>{(!r||(Array.isArray(t)?r({event:a,payload:u}):r(u)))&&i(u)}))}),(n.postEvent||$n)(e,n.params)},n).finally(s)}const eo="launchParams";function to(e){return e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function An(){for(const e of[()=>to(window.location.href),()=>{const t=performance.getEntriesByType("navigation")[0];return t&&to(t.name)},()=>Rc(eo)]){const t=e();if(t&&Jo(t))return Bo(eo,t),t}throw new Zo}function Ze(e){const t=al(An());return e?Qt(t):t}function Yt(e,t){if(!e)try{return Ze(),!0}catch{return!1}return xo.fn(async n=>{if(Ao(window))return!0;try{return await Cn("web_app_request_theme","theme_changed",n),!0}catch{return!1}},t||{timeout:100})}function kl({launchParams:e,onEvent:t}={}){if(e){const o=typeof e=="string"||e instanceof URLSearchParams?e.toString():cl({...e,tgWebAppData:void 0})+(e.tgWebAppData?`&tgWebAppData=${encodeURIComponent(e.tgWebAppData.toString())}`:"");if(!Jo(o))throw new Xo(o);Bo("launchParams",o)}if(ko()){const o=Co(oe(),En(),Go),s=window.parent.postMessage.bind(window.parent);window.parent.postMessage=(...i)=>{const[a]=i,u=()=>{s(...i)};if(Ye(o,a)&&t){const c=zt(o,a);t([c.eventType,c.eventData],u)}else u()};return}const n=window.TelegramWebviewProxy||{},{postEvent:r}=n;window.TelegramWebviewProxy={...n,postEvent(o,s){const i=()=>{r&&r(o,s)};t?t([o,s?JSON.parse(s):void 0],i):i()}},Sn(!1,"Environment was mocked by the mockTelegramEnv function")}function rs(){return new URLSearchParams(An()).get("tgWebAppData")||void 0}function os(e){return({req_id:t})=>t===e}function no(e){return e.split(".").map(Number)}function Pl(e,t){const n=no(e),r=no(t),o=Math.max(n.length,r.length);for(let s=0;s<o;s+=1){const i=n[s]||0,a=r[s]||0;if(i!==a)return i>a?1:-1}return 0}function M(e,t){return Pl(e,t)<=0}function ue(e,t,n){if(typeof n=="string"){if(e==="web_app_open_link"){if(t==="try_instant_view")return M("6.4",n);if(t==="try_browser")return M("7.6",n)}if(e==="web_app_set_header_color"&&t==="color")return M("6.9",n);if(e==="web_app_close"&&t==="return_back")return M("7.6",n);if(e==="web_app_setup_main_button"&&t==="has_shine_effect")return M("7.10",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return M("6.1",t);case"web_app_open_popup":return M("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return M("6.4",t);case"web_app_switch_inline_query":return M("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return M("6.9",t);case"web_app_setup_settings_button":return M("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return M("7.2",t);case"web_app_setup_swipe_behavior":return M("7.7",t);case"web_app_share_to_story":return M("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return M("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":case"web_app_check_location":case"web_app_open_location_settings":case"web_app_request_file_download":case"web_app_request_location":case"web_app_send_prepared_message":case"web_app_start_accelerometer":case"web_app_start_device_orientation":case"web_app_start_gyroscope":case"web_app_stop_accelerometer":case"web_app_stop_device_orientation":case"web_app_stop_gyroscope":case"web_app_toggle_orientation_lock":return M("8.0",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}function ss(e,t){t||(t="strict");const n=typeof t=="function"?t:r=>{const{method:o,version:s}=r,i="param"in r?new Yo(o,r.param,s):new Ko(o,s);if(t==="strict")throw i;return console.warn(i.message)};return(r,o)=>ue(r,e)?r==="web_app_set_header_color"&&Ye(U({color:So()}),o)&&!ue(r,"color",e)?n({version:e,method:r,param:"color"}):$n(r,o):n({version:e,method:r})}function Ml(e,t,n,r){return Cn("web_app_invoke_custom_method","custom_method_invoked",{...r||{},params:{method:e,params:t,req_id:n},capture:os(n)}).then(({result:o,error:s})=>{if(s)throw new ts(s);return o})}function is(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function xl(e){return e.replace(/_([a-z])/g,(t,n)=>`-${n.toLowerCase()}`)}function as(e){return`tapps/${e}`}function G(e,t){sessionStorage.setItem(as(e),JSON.stringify(t))}function Q(e){const t=sessionStorage.getItem(as(e));try{return t?JSON.parse(t):void 0}catch{}}function kn(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function Tl(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:o}=t,s=o===void 0?!0:o,i=typeof s=="boolean"?()=>s:s;function a(u,c,...l){if(c||i()){const p="font-weight:bold;padding:0 5px;border-radius:5px";console[u](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${p};background-color: lightblue;color:black`,"",`${p};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...l)}}return[a.bind(void 0,"log"),a.bind(void 0,"error")]}function Bl(){return performance.getEntriesByType("navigation")[0]}function J(){const e=Bl();return!!e&&e.type==="reload"}let Ee;function Ol(e,t){Ee&&Ee.set(e,t)||t()}function Zt(e){if(Ee)return e();Ee=new Map;try{e()}finally{Ee.forEach(t=>t()),Ee=void 0}}function us(e,t){t||(t={});const n=t.equals||Object.is;let r=[],o=e;const s=c=>{if(!n(o,c)){const l=o;o=c,Ol(u,()=>{[...r].forEach(([p,m])=>{p(c,l),m&&a(p,!0)})})}};function i(c){const l=typeof c!="object"?{once:c}:c;return{once:l.once||!1,signal:l.signal||!1}}const a=(c,l)=>{const p=i(l),m=r.findIndex(([f,k])=>f===c&&k.once===p.once&&k.signal===p.signal);m>=0&&r.splice(m,1)},u=Object.assign(function(){return Il(u),o},{destroy(){r=[]},set:s,reset(){s(e)},sub(c,l){return r.push([c,i(l)]),()=>a(c,l)},unsub:a,unsubAll(){r=r.filter(c=>c[1].signal)}});return u}const Be=[];function Il(e){Be.length&&Be[Be.length-1].add(e)}function jl(e,t){let n=new Set,r;function o(){return r||(r=us(i(),t))}function s(){o().set(i())}function i(){n.forEach(c=>{c.unsub(s,{signal:!0})});const a=new Set;let u;Be.push(a);try{u=e()}finally{Be.pop()}return a.forEach(c=>{c.sub(s,{signal:!0})}),n=a,u}return Object.assign(function(){return o()()},{destroy(){o().destroy()},sub(...a){return o().sub(...a)},unsub(...a){o().unsub(...a)},unsubAll(...a){o().unsubAll(...a)}})}function Ve(e,t){return us(e,t)}function _(e,t){return jl(e,t)}function b(e,t){const n=Ve(e,t);return[n,_(n)]}let cs=!1;const[Xt,Xf]=Tl("SDK",{bgColor:"forestgreen",textColor:"white",shouldLog(){return cs}});function ql(e){cs=e,fl(e)}const Ot=Ve(0),ls=Ve($n),[ro,Pn]=b({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),se=_(()=>Pn().tgWebAppVersion);function ps(e){e||(e={});const{postEvent:t}=e,n=e.launchParams||Ze();ro.set(n),ls.set(typeof t=="function"?t:ss(n.tgWebAppVersion)),Xt(!1,"The package was configured. Launch params:",ro())}function Mn(){return Ot.set(Ot()+1),Ot().toString()}function me(e,t,n){return Ml(e,t,Mn(),{...n||{},postEvent:h})}const A=(e,t,n)=>(n||(n={}),n.postEvent||(n.postEvent=h),Cn(e,t,n)),h=(e,t)=>ls()(e,t);function K(e){return _(()=>ue(e,se()))}function Dl(e){return t=>t instanceof e}function te(e,t){t||(t=[]);class n extends Error{constructor(...o){const s=typeof t=="function"?t(...o):typeof t=="string"?[t]:t||[];super(...s),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Dl(n)]}function ke(e){return[e]}const[Xe,Nl]=te("CSSVarsBoundError","CSS variables are already bound"),[ds,Vl]=te("NotAvailableError",ke),[Rl,Hl]=te("InvalidEnvError",ke),[ve,Ll]=te("FunctionNotAvailableError",ke),[F,Fl]=te("InvalidArgumentsError",(e,t)=>[e,{cause:t}]),[fs,Wl]=te("ConcurrentCallError",ke),[ms,Ul]=te("SetEmojiStatusError",e=>[`Failed to set emoji status: ${e}`]),[hs,zl]=te("AccessDeniedError",ke),[_s,Gl]=te("FullscreenFailedError",ke);function en(){return typeof window>"u"}function C(e,t,n){n||(n={});const{isSupported:r,isMounted:o,isMounting:s,component:i,supports:a}=n||{},u=`${i?`${i}.`:""}${e}()`,c=r?Array.isArray(r)||typeof r=="object"&&"any"in r?r:[r]:void 0;function l(w){if(a){const S=a[w];return ue(S[0],S[1],se())}return!0}function p(){if(!c)return;function w(V){return typeof V=="function"?V():ue(V,se())?void 0:`it is unsupported in Mini Apps version ${se()}`}const S=Array.isArray(c)?c:c.any,O=S.map(w).filter(Boolean);return Array.isArray(c)?O[0]:O.length===S.length?O[O.length-1]:void 0}function m(...w){for(const S in a)if(a[S][2](...w)&&!l(S))return`option ${S} is not supported in Mini Apps version ${se()}`}let f;if(a){f={};for(const w in a)f[w]=_(()=>l(w))}const k=_(()=>!p()),ge=_(()=>se()!=="0.0"),P=_(()=>!o||o()),re=_(()=>Yt()&&!en()&&ge()&&k()&&P());return Object.assign((...w)=>{const S=`Unable to call the ${u} ${i?"method":"function"}:`;if(en()||!Yt())throw new ve(`${S} it can't be called outside Mini Apps`);if(!ge())throw new ve(`${S} the SDK was not initialized. Use the SDK init() function`);const O=p();if(O)throw new ve(`${S} ${O}`);const V=m(...w);if(V)throw new ve(`${S} ${V}`);if(!P()){const d=s&&s()?"mounting. Wait for the mount completion":`unmounted. Use the ${i}.mount() method`;throw new ve(`${S} the component is ${d}`)}return t(...w)},t,{isAvailable:re,ifAvailable(...w){return re()?[!0,t(...w)]:[!1]}},c?{isSupported:k}:{},f?{supports:f}:{})}function et(e,t){return t||(t={}),(n,r,o,s)=>C(n,r,{...t,isSupported:o||t.isSupported,supports:s,component:e})}function he(e,t,n){return et(e,{isSupported:n,isMounted:t})}function H(e,t){return et(e,{isSupported:t})}const tt="web_app_setup_back_button",bs="back_button_pressed",nt="backButton",[oo,ys]=b(!1),[ze,gs]=b(!1),vs=K(tt),Es=he(nt,ze,tt),xn=H(nt,tt),ws=Es("hide",()=>{Tn(!1)}),Ss=xn("mount",()=>{ze()||(Tn(J()&&Q(nt)||!1),ze.set(!0))});function Tn(e){e!==oo()&&(h(tt,{is_visible:e}),G(nt,e),oo.set(e))}const $s=xn("onClick",e=>$(bs,e)),Cs=xn("offClick",e=>{x(bs,e)}),As=Es("show",()=>{Tn(!0)});function ks(){ze.set(!1)}const Ql=Object.freeze(Object.defineProperty({__proto__:null,hide:ws,isMounted:gs,isSupported:vs,isVisible:ys,mount:Ss,offClick:Cs,onClick:$s,show:As,unmount:ks},Symbol.toStringTag,{value:"Module"}));var Jl=Object.defineProperty,Kl=(e,t,n)=>t in e?Jl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tn=(e,t,n)=>Kl(e,typeof t!="symbol"?t+"":t,n);function Yl(e){return t=>t instanceof e}function Ps(e,t){t||(t=[]);class n extends Error{constructor(...o){const s=typeof t=="function"?t(...o):typeof t=="string"?[t]:t||[];super(...s),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Yl(n)]}const[Zl,Xl]=Ps("CancelledError","Promise was canceled"),[ep,em]=Ps("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),Ms=Symbol("Resolved");function so(e){return Array.isArray(e)&&e[0]===Ms}function tp(e){return[Ms,e]}function io(e,t){return e.reject=t.reject,e.abort=t.abort,e}let T=class nn extends Promise{constructor(t,n){let r,o;super((s,i)=>{let a,u;typeof t=="function"?(a=t,u=n):u=t;const c=[],l=d=>(...I)=>{const X=d(...I);return c.forEach(xt=>xt()),X},p=new AbortController,{signal:m}=p;o=d=>{!m.aborted&&p.abort(d)};const f=()=>m.reason,k=d=>{const I=()=>{d(f())};m.addEventListener("abort",I,!0);const X=()=>{m.removeEventListener("abort",I,!0)};return c.push(X),X},ge=l(d=>{s(d),o(tp(d))});r=l(d=>{i(d),o(d)}),u||(u={});const{abortSignal:P,rejectOnAbort:re=!0}=u;if(P)if(P.aborted){const{reason:d}=P;if(re)return r(d);o(d)}else{const d=()=>{o(P.reason)};P.addEventListener("abort",d),c.push(()=>{P.removeEventListener("abort",d)})}re&&k(i);const{timeout:w}=u;if(w){const d=setTimeout(()=>{o(new ep(w))},w);c.push(()=>{clearTimeout(d)})}const S=()=>m.aborted,O=()=>so(f()),V=()=>{const d=f();return so(d)?d[1]:void 0};try{const d=a&&a(ge,r,{abortReason:f,abortSignal:m,isAborted:S,isResolved:O,onAborted:k,onResolved:I=>k(()=>{O()&&I(V())}),resolved:V,throwIfAborted(){if(S())throw f()}});d instanceof Promise&&d.catch(r)}catch(d){r(d)}}),tn(this,"abort"),tn(this,"reject"),this.abort=o,this.reject=r}static fn(t,n){return new nn(async(r,o,s)=>{try{r(await t(s))}catch(i){o(i)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new nn((n,r)=>{r(t)})}cancel(){this.abort(new Zl)}catch(t){return this.then(void 0,t)}finally(t){return io(super.finally(t),this)}then(t,n){return io(super.then(t,n),this)}};function ao(e,t){return e.resolve=t.resolve,e}let np=class rn extends T{constructor(t,n){let r,o;typeof t=="function"?(r=t,o=n):o=t;let s;super((i,a,u)=>{s=i,r&&r(i,a,u)},o),tn(this,"resolve"),this.resolve=s}static fn(t,n){return new rn((r,o,s)=>{try{Promise.resolve(t(s)).then(r,o)}catch(i){o(i)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new rn((n,r)=>{r(t)})}catch(t){return this.then(void 0,t)}finally(t){return ao(super.finally(t),this)}then(t,n){return ao(super.then(t,n),this)}};function N(e,t,n){n||(n={});const{promise:r,error:o}=n,[s,i]=r?[r,_(r)]:b(),[a,u]=o?[o,_(o)]:b();return[Object.assign((...c)=>{if(s()){const p=new fs(t);return a.set(p),T.reject(p)}Zt(()=>{s.set(e(...c)),a.set(void 0)});let l;return s().catch(p=>{throw l=p,p}).finally(()=>{Zt(()=>{s.set(void 0),a.set(l)})})},e),[s,i,_(()=>!!s())],[a,u]]}function rt(e,t,n){const[r,...o]=N(t,`The ${e} component is already mounting`),[s,i]=b(!1);return[(...a)=>s()?T.resolve():r(...a).then(u=>{Zt(()=>{s.set(!0),n(u)})}),...o,[s,i]]}const ne=et,[Bn,xs]=b({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),Ts=_(()=>Bn().available),uo="web_app_biometry_get_info",Bs=C("requestBiometry",e=>A(uo,"biometry_info_received",e),{isSupported:uo});function On(e){if(!Xl(e))throw e}function Re(e){const t=e();t&&t.catch(On).cancel()}const Se="biometry",ot="web_app_biometry_request_auth",In="biometry_info_received",Os=e=>{st(jn(e))};function Is(){throw new ds("Biometry is not available")}function jn(e){let t=!1,n=!1,r="",o=!1,s="",i=!1;return e.available&&(t=!0,n=e.token_saved,r=e.device_id,o=e.access_requested,s=e.type,i=e.access_granted),{available:t,tokenSaved:n,deviceId:r,type:s,accessGranted:i,accessRequested:o}}const js=K(ot),[rp,op,sp,qs]=rt(Se,e=>{const t=J()&&Q(Se);return t?T.resolve(t):Bs({abortSignal:e}).then(jn)},e=>{$(In,Os),st(e)}),ip=ne(Se),ap=H(Se,ot),qn=he(Se,qs[0],ot),Ds=ip("mount",rp),[,Dn,Ns]=op,[,Vs]=sp,[up,Rs]=qs,[cp,lp,pp]=N(e=>T.fn(async t=>{const n=Bn();n.available||Is();const r=await A(ot,"biometry_auth_requested",{...e,...t,params:{reason:((e||{}).reason||"").trim()}}),{token:o}=r;return typeof o=="string"&&st({...n,token:o}),r},e),"Biometry authentication is already in progress"),Hs=qn("authenticate",cp),[,Nn,Ls]=lp,[,Fs]=pp,Ws=ap("openSettings",()=>{h("web_app_biometry_open_settings")}),[dp,fp,mp]=N(e=>T.fn(async t=>{const n=await A("web_app_biometry_request_access",In,{...e,...t,params:{reason:(e||{}).reason||""}}).then(jn);return n.available||Is(),st(n),n.accessGranted},e),"Biometry access request is already in progress"),Us=qn("requestAccess",dp),[,Vn,zs]=fp,[,Gs]=mp;function st(e){Bn.set(e),G(Se,e)}function Qs(){[Nn,Vn,Dn].forEach(Re),x(In,Os),up.set(!1)}const Js=qn("updateToken",e=>(e||(e={}),A("web_app_biometry_update_token","biometry_token_updated",{...e,params:{token:e.token||"",reason:e.reason}}).then(t=>t.status))),hp=Object.freeze(Object.defineProperty({__proto__:null,authError:Fs,authPromise:Nn,authenticate:Hs,isAuthenticating:Ls,isAvailable:Ts,isMounted:Rs,isMounting:Ns,isRequestingAccess:zs,isSupported:js,mount:Ds,mountError:Vs,mountPromise:Dn,openSettings:Ws,requestAccess:Us,requestAccessError:Gs,requestAccessPromise:Vn,state:xs,unmount:Qs,updateToken:Js},Symbol.toStringTag,{value:"Module"}));function it(e,t){return et(e,{isMounted:t})}const at="closingBehavior",[co,Ks]=b(!1),[on,Rn]=b(!1),Ys=it(at,Rn),_p=ne(at),Zs=Ys("disableConfirmation",()=>{Hn(!1)}),Xs=Ys("enableConfirmation",()=>{Hn(!0)}),ei=_p("mount",()=>{on()||(Hn(J()&&Q(at)||!1),on.set(!0))});function Hn(e){e!==co()&&(h("web_app_setup_closing_behavior",{need_confirmation:e}),G(at,e),co.set(e))}function ti(){on.set(!1)}const bp=Object.freeze(Object.defineProperty({__proto__:null,disableConfirmation:Zs,enableConfirmation:Xs,isConfirmationEnabled:Ks,isMounted:Rn,mount:ei,unmount:ti},Symbol.toStringTag,{value:"Module"}));var ee;function ni(e){return{lang:(e==null?void 0:e.lang)??(ee==null?void 0:ee.lang),message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??(ee==null?void 0:ee.abortEarly),abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??(ee==null?void 0:ee.abortPipeEarly)}}var It;function yp(e){return It==null?void 0:It.get(e)}var jt;function gp(e){return jt==null?void 0:jt.get(e)}var qt;function vp(e,t){var n;return(n=qt==null?void 0:qt.get(e))==null?void 0:n.get(t)}function Ep(e){var n,r;const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&((r=(n=Object.getPrototypeOf(e))==null?void 0:n.constructor)==null?void 0:r.name))??"null":t}function q(e,t,n,r,o){const s=o&&"input"in o?o.input:n.value,i=(o==null?void 0:o.expected)??e.expects??null,a=(o==null?void 0:o.received)??Ep(s),u={kind:e.kind,type:e.type,input:s,expected:i,received:a,message:`Invalid ${t}: ${i?`Expected ${i} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",l=(o==null?void 0:o.message)??e.message??vp(e.reference,u.lang)??(c?gp(u.lang):null)??r.message??yp(u.lang);l&&(u.message=typeof l=="function"?l(u):l),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function Y(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},ni())}}}function ri(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function wp(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var sn=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function oi(e,t){return{kind:"validation",type:"check",reference:oi,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&q(this,"input",n,r),n}}}function si(e){return{kind:"validation",type:"integer",reference:si,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&q(this,"integer",t,n),t}}}function Ln(e){return{kind:"transformation",type:"transform",reference:Ln,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function ii(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function ai(e,t){return{kind:"schema",type:"array",reference:ai,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return Y(this)},"~run"(n,r){var s;const o=n.value;if(Array.isArray(o)){n.typed=!0,n.value=[];for(let i=0;i<o.length;i++){const a=o[i],u=this.item["~run"]({value:a},r);if(u.issues){const c={type:"array",origin:"value",input:o,key:i,value:a};for(const l of u.issues)l.path?l.path.unshift(c):l.path=[c],(s=n.issues)==null||s.push(l);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),n.value.push(u.value)}}else q(this,"type",n,r);return n}}}function Fn(e){return{kind:"schema",type:"date",reference:Fn,expects:"Date",async:!1,message:e,get"~standard"(){return Y(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?q(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:q(this,"type",t,n),t}}}function ui(e,t){return{kind:"schema",type:"instance",reference:ui,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return Y(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:q(this,"type",n,r),n}}}function an(e,t){return{kind:"schema",type:"loose_object",reference:an,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return Y(this)},"~run"(n,r){var s;const o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(const i in this.entries){const a=this.entries[i];if(i in o||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const u=i in o?o[i]:ii(a),c=a["~run"]({value:u},r);if(c.issues){const l={type:"object",origin:"value",input:o,key:i,value:u};for(const p of c.issues)p.path?p.path.unshift(l):p.path=[l],(s=n.issues)==null||s.push(p);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[i]=c.value}else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(q(this,"key",n,r,{input:void 0,expected:`"${i}"`,path:[{type:"object",origin:"key",input:o,key:i,value:o[i]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const i in o)ri(o,i)&&!(i in this.entries)&&(n.value[i]=o[i])}else q(this,"type",n,r);return n}}}function Wn(e){return{kind:"schema",type:"number",reference:Wn,expects:"number",async:!1,message:e,get"~standard"(){return Y(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:q(this,"type",t,n),t}}}function ci(e,t){return{kind:"schema",type:"optional",reference:ci,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return Y(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=ii(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function li(e,t,n){return{kind:"schema",type:"record",reference:li,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return Y(this)},"~run"(r,o){var i,a;const s=r.value;if(s&&typeof s=="object"){r.typed=!0,r.value={};for(const u in s)if(ri(s,u)){const c=s[u],l=this.key["~run"]({value:u},o);if(l.issues){const m={type:"object",origin:"key",input:s,key:u,value:c};for(const f of l.issues)f.path=[m],(i=r.issues)==null||i.push(f);if(r.issues||(r.issues=l.issues),o.abortEarly){r.typed=!1;break}}const p=this.value["~run"]({value:c},o);if(p.issues){const m={type:"object",origin:"value",input:s,key:u,value:c};for(const f of p.issues)f.path?f.path.unshift(m):f.path=[m],(a=r.issues)==null||a.push(f);if(r.issues||(r.issues=p.issues),o.abortEarly){r.typed=!1;break}}(!l.typed||!p.typed)&&(r.typed=!1),l.typed&&(r.value[l.value]=p.value)}}else q(this,"type",r,o);return r}}}function L(e){return{kind:"schema",type:"string",reference:L,expects:"string",async:!1,message:e,get"~standard"(){return Y(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:q(this,"type",t,n),t}}}function lo(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function pi(e,t){return{kind:"schema",type:"union",reference:pi,expects:wp(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return Y(this)},"~run"(n,r){let o,s,i;for(const a of this.options){const u=a["~run"]({value:n.value},r);if(u.typed)if(u.issues)s?s.push(u):s=[u];else{o=u;break}else i?i.push(u):i=[u]}if(o)return o;if(s){if(s.length===1)return s[0];q(this,"type",n,r,{issues:lo(s)}),n.typed=!0}else{if((i==null?void 0:i.length)===1)return i[0];q(this,"type",n,r,{issues:lo(i)})}return n}}}function ut(e,t,n){const r=e["~run"]({value:t},ni(n));if(r.issues)throw new sn(r.issues);return r.value}function Oe(...e){return{...e[0],pipe:e,get"~standard"(){return Y(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}const di="web_app_invoke_custom_method",He=H("cloudStorage",di),fi=K(di),Un=He("deleteItem",(e,t)=>{const n=Array.isArray(e)?e:[e];return n.length?me("deleteStorageValues",{keys:n},t).then():T.resolve()});function Sp(e,t){const n=Array.isArray(e)?e:[e];return n.length?me("getStorageValues",{keys:n},t).then(r=>ut(li(Oe(L(),oi(o=>n.includes(o))),L()),r)):T.resolve(typeof e=="string"?"":{})}const mi=He("getItem",Sp),zn=He("getKeys",e=>me("getStorageKeys",{},e).then(t=>ut(ai(L()),t))),hi=He("setItem",(e,t,n)=>me("saveStorageValue",{key:e,value:t},n).then()),$p=He("clear",e=>zn(e).then(Un)),Cp=Object.freeze(Object.defineProperty({__proto__:null,clear:$p,deleteItem:Un,getItem:mi,getKeys:zn,isSupported:fi,setItem:hi},Symbol.toStringTag,{value:"Module"})),Le="web_app_trigger_haptic_feedback",Gn=H("hapticFeedback",Le),_i=K(Le),bi=Gn("impactOccurred",e=>{h(Le,{type:"impact",impact_style:e})}),yi=Gn("notificationOccurred",e=>{h(Le,{type:"notification",notification_type:e})}),gi=Gn("selectionChanged",()=>{h(Le,{type:"selection_change"})}),Ap=Object.freeze(Object.defineProperty({__proto__:null,impactOccurred:bi,isSupported:_i,notificationOccurred:yi,selectionChanged:gi},Symbol.toStringTag,{value:"Module"})),[vi,Ei]=b(void 0);function Z(e){return _(()=>{const t=vi();return t?t[e]:void 0})}const Qn=Z("auth_date"),Jn=Z("can_send_after"),wi=_(()=>{const e=Qn(),t=Jn();return t&&e?new Date(e.getTime()+t*1e3):void 0}),Si=Z("chat"),$i=Z("chat_type"),Ci=Z("chat_instance"),Ai=Z("hash"),ki=Z("query_id"),[kp,Pi]=b(),Mi=Z("receiver");function xi(){const e=Ze();vi.set(e.tgWebAppData),kp.set(rs())}const Ti=Z("start_param"),Bi=Z("user"),Pp=Object.freeze(Object.defineProperty({__proto__:null,authDate:Qn,canSendAfter:Jn,canSendAfterDate:wi,chat:Si,chatInstance:Ci,chatType:$i,hash:Ai,queryId:ki,raw:Pi,receiver:Mi,restore:xi,startParam:Ti,state:Ei,user:Bi},Symbol.toStringTag,{value:"Module"})),Kn="web_app_open_invoice",Mp=H("invoice",Kn),Oi=K(Kn);function xp(e,t,n){let r;if(t==="url"){const{hostname:o,pathname:s}=new URL(e,window.location.href);if(o!=="t.me")throw new F(`Link has unexpected hostname: ${o}`);const i=s.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!i)throw new F('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=i}else r=e,n=t;return A(Kn,"invoice_closed",{...n,params:{slug:r},capture:o=>r===o.slug}).then(o=>o.status)}const[Tp,Bp,Op]=N(xp,"Invoice is already opened"),Ii=Mp("open",Tp),[,ji,qi]=Bp,[,Di]=Op,Ip=Object.freeze(Object.defineProperty({__proto__:null,isOpened:qi,isSupported:Oi,open:Ii,openError:Di,openPromise:ji},Symbol.toStringTag,{value:"Module"}));function Yn(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=r)}return t}function Ni(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function jp(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function qp(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function D(e,t,n,r,o){const s=o&&"input"in o?o.input:n.value,i=(o==null?void 0:o.expected)??e.expects??null,a=(o==null?void 0:o.received)??qp(s),u={kind:e.kind,type:e.type,input:s,expected:i,received:a,message:`Invalid ${t}: ${i?`Expected ${i} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",l=(o==null?void 0:o.message)??e.message??jp(e.reference,u.lang)??(c?(u.lang,void 0):null)??r.message??(u.lang,void 0);l&&(u.message=typeof l=="function"?l(u):l),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function W(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Ni())}}}function Vi(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function Dp(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var Np=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Ri(e,t){return{kind:"validation",type:"check",reference:Ri,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&D(this,"input",n,r),n}}}function Hi(e){return{kind:"validation",type:"integer",reference:Hi,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&D(this,"integer",t,n),t}}}function ce(e){return{kind:"transformation",type:"transform",reference:ce,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function Li(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Te(e){return{kind:"schema",type:"boolean",reference:Te,expects:"boolean",async:!1,message:e,get"~standard"(){return W(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:D(this,"type",t,n),t}}}function Fi(e){return{kind:"schema",type:"date",reference:Fi,expects:"Date",async:!1,message:e,get"~standard"(){return W(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?D(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:D(this,"type",t,n),t}}}function Wi(e,t){return{kind:"schema",type:"instance",reference:Wi,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return W(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:D(this,"type",n,r),n}}}function Zn(e){return{kind:"schema",type:"lazy",reference:Zn,expects:"unknown",async:!1,getter:e,get"~standard"(){return W(this)},"~run"(t,n){return this.getter(t.value)["~run"](t,n)}}}function Fe(e,t){return{kind:"schema",type:"loose_object",reference:Fe,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return W(this)},"~run"(n,r){var o;const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};for(const i in this.entries){const a=this.entries[i];if(i in s||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const u=i in s?s[i]:Li(a),c=a["~run"]({value:u},r);if(c.issues){const l={type:"object",origin:"value",input:s,key:i,value:u};for(const p of c.issues)p.path?p.path.unshift(l):p.path=[l],(o=n.issues)==null||o.push(p);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[i]=c.value}else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(D(this,"key",n,r,{input:void 0,expected:`"${i}"`,path:[{type:"object",origin:"key",input:s,key:i,value:s[i]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const i in s)Vi(s,i)&&!(i in this.entries)&&(n.value[i]=s[i])}else D(this,"type",n,r);return n}}}function Xn(e){return{kind:"schema",type:"number",reference:Xn,expects:"number",async:!1,message:e,get"~standard"(){return W(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:D(this,"type",t,n),t}}}function E(e,t){return{kind:"schema",type:"optional",reference:E,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return W(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Li(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Ui(e,t,n){return{kind:"schema",type:"record",reference:Ui,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return W(this)},"~run"(r,o){var s,i;const a=r.value;if(a&&typeof a=="object"){r.typed=!0,r.value={};for(const u in a)if(Vi(a,u)){const c=a[u],l=this.key["~run"]({value:u},o);if(l.issues){const m={type:"object",origin:"key",input:a,key:u,value:c};for(const f of l.issues)f.path=[m],(s=r.issues)==null||s.push(f);if(r.issues||(r.issues=l.issues),o.abortEarly){r.typed=!1;break}}const p=this.value["~run"]({value:c},o);if(p.issues){const m={type:"object",origin:"value",input:a,key:u,value:c};for(const f of p.issues)f.path?f.path.unshift(m):f.path=[m],(i=r.issues)==null||i.push(f);if(r.issues||(r.issues=p.issues),o.abortEarly){r.typed=!1;break}}(!l.typed||!p.typed)&&(r.typed=!1),l.typed&&(r.value[l.value]=p.value)}}else D(this,"type",r,o);return r}}}function g(e){return{kind:"schema",type:"string",reference:g,expects:"string",async:!1,message:e,get"~standard"(){return W(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:D(this,"type",t,n),t}}}function po(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function zi(e,t){return{kind:"schema",type:"union",reference:zi,expects:Dp(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return W(this)},"~run"(n,r){let o,s,i;for(const a of this.options){const u=a["~run"]({value:n.value},r);if(u.typed)if(u.issues)s?s.push(u):s=[u];else{o=u;break}else i?i.push(u):i=[u]}if(o)return o;if(s){if(s.length===1)return s[0];D(this,"type",n,r,{issues:po(s)}),n.typed=!0}else{if((i==null?void 0:i.length)===1)return i[0];D(this,"type",n,r,{issues:po(i)})}return n}}}function Gi(e,t,n){const r=e["~run"]({value:t},Ni(n));if(r.issues)throw new Np(r.issues);return r.value}function le(...e){return{...e[0],pipe:e,get"~standard"(){return W(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function Vp(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function Rp(e){return Object.entries(e).reduce((t,[n,r])=>(t[Vp(n)]=r,t),{})}function un(e){const t=Rp(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(un):un(r))}return t}function er(e){return ce(t=>e?un(t):t)}function Qi(e){return t=>le(e,er(t))}function Ji(e){return(t,n)=>Gi(le(e,er(n)),t)}function Ki(){return ce(JSON.parse)}function tr(e){const t=Qi(e);return n=>le(g(),Ki(),t(n))}function nr(e){return ce(t=>{const n={};return new URLSearchParams(t).forEach((r,o)=>{const s=n[o];Array.isArray(s)?s.push(r):s===void 0?n[o]=r:n[o]=[s,r]}),Gi(e,n)})}function Yi(e){return t=>le(zi([g(),Wi(URLSearchParams)]),nr(e),er(t))}const fo=E(Zn(()=>Up())),Hp=Fe({id:Xn(),photo_url:E(g()),type:g(),title:g(),username:E(g())}),Lp=Fe({added_to_attachment_menu:E(Te()),allows_write_to_pm:E(Te()),first_name:g(),id:Xn(),is_bot:E(Te()),is_premium:E(Te()),last_name:E(g()),language_code:E(g()),photo_url:E(g()),username:E(g())}),Fp=Fe({auth_date:le(g(),ce(e=>new Date(Number(e)*1e3)),Fi()),can_send_after:E(le(g(),ce(Number),Hi())),chat:E(Zn(()=>Wp())),chat_type:E(g()),chat_instance:E(g()),hash:g(),query_id:E(g()),receiver:fo,start_param:E(g()),signature:g(),user:fo}),Wp=tr(Hp),Up=tr(Lp),Zi=Yi(Fp);function fe(e){return/^#[\da-f]{6}$/i.test(e)}function Xi(e){return/^#[\da-f]{3}$/i.test(e)}function ea(e){const t=e.replace(/\s/g,"").toLowerCase();if(fe(t))return t;if(Xi(t)){let r="#";for(let o=0;o<3;o+=1)r+=t[1+o].repeat(2);return r}const n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((r,o)=>r+parseInt(o,10).toString(16).padStart(2,"0"),"#")}const zp=Qi(Ui(g(),le(g(),Ri(fe),ce(e=>e)))),Dt=E(le(g(),ce(e=>e==="1"))),mo=tr(zp()),Gp=Fe({tgWebAppBotInline:Dt,tgWebAppData:E(Zi()),tgWebAppDefaultColors:E(mo()),tgWebAppFullscreen:Dt,tgWebAppPlatform:g(),tgWebAppShowSettings:Dt,tgWebAppStartParam:E(g()),tgWebAppThemeParams:mo(),tgWebAppVersion:g()}),Qp=Yi(Gp),Jp=Ji(Zi()),Kp=Ji(Qp());function rr(e,t){return t||(t=(n,r)=>JSON.stringify(r)),new URLSearchParams(Object.entries(e).reduce((n,[r,o])=>(Array.isArray(o)?n.push(...o.map(s=>[r,String(s)])):o!=null&&n.push([r,o instanceof Date?(o.getTime()/1e3|0).toString():typeof o=="string"||typeof o=="number"?String(o):typeof o=="boolean"?o?"1":"0":t(r,o)]),n),[])).toString()}function ta(e){return rr(e)}function Yp(e){return rr(e,(t,n)=>t==="tgWebAppData"?ta(n):JSON.stringify(n))}function or(e){const t=ea(e);return Math.sqrt([.299,.587,.114].reduce((n,r,o)=>{const s=parseInt(t.slice(1+o*2,1+(o+1)*2),16);return n+s*s*r},0))<120}const[Nt,na]=b(!1),[de,ra]=b({});function B(e){return _(()=>de()[e])}const oa=B("accentTextColor"),ct=B("bgColor"),lt=B("buttonColor"),sr=B("buttonTextColor"),ir=B("bottomBarBgColor"),sa=B("destructiveTextColor"),ia=B("headerBgColor"),aa=B("hintColor"),ua=_(()=>{const{bgColor:e}=de();return!e||or(e)}),ca=B("linkColor"),qe=B("secondaryBgColor"),la=B("sectionBgColor"),pa=B("sectionHeaderTextColor"),da=B("sectionSeparatorColor"),fa=B("subtitleTextColor"),ma=B("textColor");function _e(e){return _(()=>pt()[e])}const Ie=Ve({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),pt=_(()=>{const e=Ie();return{...e,backgroundColor:e.backgroundColor||lt()||"#2481cc",textColor:e.textColor||sr()||"#ffffff"}}),[cn,ar]=b(!1),ha=_e("backgroundColor"),_a=_e("hasShineEffect"),ba=_e("isEnabled"),ya=_e("isLoaderVisible"),ga=_e("isVisible"),va=_e("text"),Ea=_e("textColor"),Zp="web_app_setup_main_button",wa="main_button_pressed",dt="mainButton",ur=ne(dt),Xp=it(dt,ar),Sa=ur("mount",()=>{if(!cn()){const e=J()&&Q(dt);e&&Ie.set(e),cn.set(!0)}}),$a=ur("onClick",e=>$(wa,e)),Ca=ur("offClick",e=>{x(wa,e)}),Aa=Xp("setParams",e=>{Ie.set({...Ie(),...Yn(e)}),G(dt,Ie());const t=pt();t.text&&h(Zp,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})});function ka(){cn.set(!1)}const ed=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:ha,hasShineEffect:_a,isEnabled:ba,isLoaderVisible:ya,isMounted:ar,isVisible:ga,mount:Sa,offClick:Ca,onClick:$a,setParams:Aa,state:pt,text:va,textColor:Ea,unmount:ka},Symbol.toStringTag,{value:"Module"}));function cr(e,t){document.documentElement.style.setProperty(e,t)}function lr(e){document.documentElement.style.removeProperty(e)}const De="themeParams",Pa="theme_changed",td=ne(De),Ma=({theme_params:e})=>{de.set(e),G(De,e)},[nd,rd,od,xa]=rt(De,e=>{const t=J()&&Q(De);return t?T.resolve(t):A("web_app_request_theme","theme_changed",e).then(n=>n.theme_params)},e=>{$(Pa,Ma),de.set(e)}),sd=it(De,xa[0]),Ta=sd("bindCssVars",e=>{if(Nt())throw new Xe;e||(e=r=>`--tg-theme-${xl(r)}`);function t(r){Object.entries(de()).forEach(([o,s])=>{s&&r(o,s)})}function n(){t((r,o)=>{cr(e(r),o)})}return n(),de.sub(n),Nt.set(!0),()=>{t(lr),de.unsub(n),Nt.set(!1)}}),pr=td("mount",nd),[,dr,Ba]=rd,[,Oa]=od,[id,Ia]=xa;function ja(){Re(dr),x(Pa,Ma),id.set(!1)}function qa(e){return _(()=>{const t=e();return fe(t)?t:t==="bg_color"?ct():qe()})}const[Ge,Da]=b("bg_color"),ft=qa(Ge),[Qe,Na]=b("bottom_bar_bg_color"),mt=_(()=>{const e=Qe();return fe(e)?e:e==="bottom_bar_bg_color"?ir()||qe():e==="secondary_bg_color"?qe():ct()}),[Je,Va]=b("bg_color"),fr=qa(Je),[Vt,Ra]=b(!1),Ha=_(()=>{const e=ft();return e?or(e):!1}),[mr,La]=b(!0),hr=_(()=>({backgroundColor:Ge(),bottomBarColor:Qe(),headerColor:Je(),isActive:mr()})),ln="web_app_set_background_color",pn="web_app_set_bottom_bar_color",Ue="web_app_set_header_color",Fa="visibility_changed",$e="miniApp",_r={any:[ln,pn,Ue]},Wa=_(()=>_r.any.some(e=>ue(e,se()))),Ua=e=>{mr.set(e.is_visible),_t()},[ad,ud,cd,za]=rt($e,e=>pr(e).then(()=>J()&&Q($e)||void 0),e=>{yr.ifAvailable(e?e.backgroundColor:"bg_color"),gr.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),vr.ifAvailable(e?e.headerColor:"bg_color"),mr.set(e?e.isActive:!0),$(Fa,Ua)}),Ga=ne($e),ld=H($e,_r),ht=he($e,za[0],_r),Qa=ht("bindCssVars",e=>{if(Vt())throw new Xe;const[t,n]=kn();function r(o,s){function i(){cr(o,s()||null)}i(),t(s.sub(i),lr.bind(null,o))}return e||(e=o=>`--tg-${is(o)}`),r(e("bgColor"),ft),r(e("bottomBarColor"),mt),r(e("headerColor"),fr),t(()=>{Vt.set(!1)}),Vt.set(!0),n}),Ja=Ga("close",e=>{h("web_app_close",{return_back:e})}),Ka=ld("mount",ad),[,br,Ya]=ud,[,Za]=cd,[pd,Xa]=za,eu=Ga("ready",()=>{h("web_app_ready")});function _t(){G($e,hr())}const yr=ht("setBackgroundColor",e=>{e!==Ge()&&(h(ln,{color:e}),Ge.set(e),_t())},ln),gr=ht("setBottomBarColor",e=>{e!==Qe()&&(h(pn,{color:e}),Qe.set(e),_t())},pn),vr=ht("setHeaderColor",e=>{e!==Je()&&(h(Ue,fe(e)?{color:e}:{color_key:e}),Je.set(e),_t())},Ue,{rgb:[Ue,"color",fe]});function tu(){Re(br),x(Fa,Ua),pd.set(!1)}const dd=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:Da,backgroundColorRGB:ft,bindCssVars:Qa,bottomBarColor:Na,bottomBarColorRGB:mt,close:Ja,headerColor:Va,headerColorRGB:fr,isActive:La,isCssVarsBound:Ra,isDark:Ha,isMounted:Xa,isMounting:Ya,isSupported:Wa,mount:Ka,mountError:Za,mountPromise:br,ready:eu,setBackgroundColor:yr,setBottomBarColor:gr,setHeaderColor:vr,state:hr,unmount:tu},Symbol.toStringTag,{value:"Module"}));function fd(e){const t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];if(n.length>64)throw new F(`Invalid title: ${n}`);if(!t||t.length>256)throw new F(`Invalid message: ${t}`);if(r.length>3)throw new F(`Invalid buttons count: ${r.length}`);return{title:n,message:t,buttons:r.length?r.map((o,s)=>{const i=o.id||"";if(i.length>64)throw new F(`Button with index ${s} has invalid id: ${i}`);if(!o.type||o.type==="default"||o.type==="destructive"){const a=o.text.trim();if(!a||a.length>64)throw new F(`Button with index ${s} has invalid text: ${a}`);return{type:o.type,text:a,id:i}}return{type:o.type,id:i}}):[{type:"close",id:""}]}}const Er="web_app_open_popup",md=H("popup",Er),nu=K(Er),[hd,_d,bd]=N(e=>A(Er,"popup_closed",{...e,params:fd(e)}).then(({button_id:t})=>t===void 0?null:t),"A popup is already opened"),ru=md("open",hd),[,ou,su]=_d,[,iu]=bd,yd=Object.freeze(Object.defineProperty({__proto__:null,isOpened:su,isSupported:nu,open:ru,openError:iu,openPromise:ou},Symbol.toStringTag,{value:"Module"})),au="web_app_close_scan_qr_popup",wr="web_app_open_scan_qr_popup",gd="scan_qr_popup_closed",vd="qr_text_received",uu=H("qrScanner",wr),cu=uu("close",()=>{h(au),Re(Sr)}),lu=K(wr);function Ed(e){e||(e={});const{onCaptured:t,text:n,capture:r}=e,[,o]=kn($(gd,()=>{s.resolve()}),$(vd,i=>{t?t(i.data):(!r||r(i.data))&&(s.resolve(i.data),h(au))})),s=new np(e);return(e.postEvent||h)(wr,{text:n}),T.resolve(s).catch(On).finally(o)}const[wd,Sd,$d]=N(Ed,"The QR Scanner is already opened"),pu=uu("open",wd),[,Sr,du]=Sd,[,fu]=$d,Cd=Object.freeze(Object.defineProperty({__proto__:null,close:cu,isOpened:du,isSupported:lu,open:pu,openError:fu,openPromise:Sr},Symbol.toStringTag,{value:"Module"}));function pe(e){return _(()=>bt()[e])}const je=Ve({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),bt=_(()=>{const e=je();return{...e,backgroundColor:e.backgroundColor||mt()||"#000000",textColor:e.textColor||lt()||"#2481cc"}}),[dn,$r]=b(!1),mu=pe("backgroundColor"),hu=pe("hasShineEffect"),_u=pe("isEnabled"),bu=pe("isLoaderVisible"),yu=pe("isVisible"),gu=pe("position"),vu=pe("text"),Eu=pe("textColor"),yt="web_app_setup_secondary_button",wu="secondary_button_pressed",gt="secondaryButton",Cr=H(gt,yt),Ad=he(gt,$r,yt),Su=K(yt),$u=Cr("mount",()=>{if(!dn()){const e=J()&&Q(gt);e&&je.set(e),dn.set(!0)}}),Cu=Cr("onClick",e=>$(wu,e)),Au=Cr("offClick",e=>{x(wu,e)}),ku=Ad("setParams",e=>{je.set({...je(),...Yn(e)}),G(gt,je());const t=bt();t.text&&h(yt,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})});function Pu(){dn.set(!1)}const kd=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:mu,hasShineEffect:hu,isEnabled:_u,isLoaderVisible:bu,isMounted:$r,isSupported:Su,isVisible:yu,mount:$u,offClick:Au,onClick:Cu,position:gu,setParams:ku,state:bt,text:vu,textColor:Eu,unmount:Pu},Symbol.toStringTag,{value:"Module"})),vt="web_app_setup_settings_button",Mu="settings_button_pressed",Et="settingsButton",[ho,xu]=b(!1),[Ke,Tu]=b(!1),Bu=K(vt),Ar=H(Et,vt),Ou=he(Et,Ke,vt),Iu=Ou("hide",()=>{kr(!1)}),ju=Ar("mount",()=>{Ke()||(kr(J()&&Q(Et)||!1),Ke.set(!0))});function kr(e){e!==ho()&&(h(vt,{is_visible:e}),G(Et,e),ho.set(e))}const qu=Ar("onClick",e=>$(Mu,e)),Du=Ar("offClick",e=>{x(Mu,e)}),Nu=Ou("show",()=>{kr(!0)});function Vu(){Ke.set(!1)}const Pd=Object.freeze(Object.defineProperty({__proto__:null,hide:Iu,isMounted:Tu,isSupported:Bu,isVisible:xu,mount:ju,offClick:Du,onClick:qu,show:Nu,unmount:Vu},Symbol.toStringTag,{value:"Module"})),wt="web_app_setup_swipe_behavior",St="swipeBehavior",[Ne,Ru]=b(!1),Hu=K(wt),[fn,Lu]=b(!0),Md=H(St,wt),Fu=he(St,Ne,wt),Wu=Fu("disableVertical",()=>{Pr(!1)}),Uu=Fu("enableVertical",()=>{Pr(!0)}),zu=Md("mount",()=>{Ne()||(Pr(J()&&Q(St)||!1,!0),Ne.set(!0))});function Pr(e,t){(e!==fn()||t)&&(h(wt,{allow_vertical_swipe:e}),G(St,e),fn.set(e))}function Gu(){Ne.set(!1)}const xd=Object.freeze(Object.defineProperty({__proto__:null,_isMounted:Ne,_isVerticalEnabled:fn,disableVertical:Wu,enableVertical:Uu,isMounted:Ru,isSupported:Hu,isVerticalEnabled:Lu,mount:zu,unmount:Gu},Symbol.toStringTag,{value:"Module"})),Td=Object.freeze(Object.defineProperty({__proto__:null,accentTextColor:oa,backgroundColor:ct,bindCssVars:Ta,bottomBarBgColor:ir,buttonColor:lt,buttonTextColor:sr,destructiveTextColor:sa,headerBackgroundColor:ia,hintColor:aa,isCssVarsBound:na,isDark:ua,isMounted:Ia,isMounting:Ba,linkColor:ca,mount:pr,mountError:Oa,mountPromise:dr,secondaryBackgroundColor:qe,sectionBackgroundColor:la,sectionHeaderTextColor:pa,sectionSeparatorColor:da,state:ra,subtitleTextColor:fa,textColor:ma,unmount:ja},Symbol.toStringTag,{value:"Module"})),be="viewport",Mr="fullscreen_changed",xr="safe_area_changed",Tr="content_safe_area_changed",Br="viewport_changed",Qu=ne(be),_o={left:0,top:0,bottom:0,right:0};function Rt(e){return Math.max(e,0)}const[Ht,Or]=b({contentSafeAreaInsets:_o,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:_o,stableHeight:0,width:0});function ye(e){return _(()=>Or()[e])}const $t=ye("height"),Ct=ye("stableHeight"),Ir=ye("width"),Ju=ye("isExpanded"),Ku=_(()=>$t()===Ct());function Pe(e){const{height:t,stableHeight:n,width:r}=e;Ht.set({...Ht(),...Yn({...e,height:t?Rt(t):void 0,width:r?Rt(r):void 0,stableHeight:n?Rt(n):void 0})}),G(be,Ht())}function Bd(){return Q(be)}function At(e){return _(()=>kt()[e])}const kt=ye("contentSafeAreaInsets"),jr=At("bottom"),qr=At("left"),Dr=At("right"),Nr=At("top");function Pt(e){return _(()=>Mt()[e])}const Mt=ye("safeAreaInsets"),Vr=Pt("bottom"),Rr=Pt("left"),Hr=Pt("right"),Lr=Pt("top"),Yu="web_app_request_safe_area",Zu=H(be,Yu),mn=Zu("requestContentSafeAreaInsets",e=>A("web_app_request_content_safe_area",Tr,e));function Xu(e){return A("web_app_request_viewport",Br,e)}const hn=Zu("requestSafeAreaInsets",e=>A(Yu,xr,e)),ec=e=>{const{height:t}=e;Pe({isExpanded:e.is_expanded,height:t,width:e.width,stableHeight:e.is_state_stable?t:void 0})},tc=e=>{Pe({isFullscreen:e.is_fullscreen})},nc=e=>{Pe({safeAreaInsets:e})},rc=e=>{Pe({contentSafeAreaInsets:e})},[Od,Id,jd,qd]=rt(be,e=>{const t=J()&&Bd();return t?T.resolve(t):T.fn(async n=>{const r=await T.all([hn.isAvailable()?hn(n):Mt(),mn.isAvailable()?mn(n):kt()]),o=Pn(),s={contentSafeAreaInsets:r[1],isFullscreen:!!o.tgWebAppFullscreen,safeAreaInsets:r[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(o.tgWebAppPlatform)){const i=window;return{...s,height:i.innerHeight,isExpanded:!0,stableHeight:i.innerHeight,width:i.innerWidth}}return Xu(n).then(i=>({...s,height:i.height,isExpanded:i.is_expanded,stableHeight:i.is_state_stable?i.height:0,width:i.width}))},e)},e=>{$(Br,ec),$(Mr,tc),$(xr,nc),$(Tr,rc),Pe(e)}),oc=Qu("mount",Od),[,Fr,sc]=Id,[,ic]=jd,[Wr,ac]=qd;function uc(){Re(Fr),x(Br,ec),x(Mr,tc),x(xr,nc),x(Tr,rc),Wr.set(!1)}const Dd=it(be,Wr),[Lt,cc]=b(!1),lc=Dd("bindCssVars",e=>{if(Lt())throw new Xe;e||(e=n=>`--tg-viewport-${is(n)}`);const t=[["height",$t],["stableHeight",Ct],["width",Ir],["safeAreaInsetTop",Lr],["safeAreaInsetBottom",Vr],["safeAreaInsetLeft",Rr],["safeAreaInsetRight",Hr],["contentSafeAreaInsetTop",Nr],["contentSafeAreaInsetBottom",jr],["contentSafeAreaInsetLeft",qr],["contentSafeAreaInsetRight",Dr]].reduce((n,[r,o])=>{const s=e(r);if(s){const i=()=>{cr(s,`${o()}px`)};n.push([i,o.sub(i),s])}return n},[]);return t.forEach(n=>{n[0]()}),Lt.set(!0),()=>{t.forEach(n=>{n[1](),lr(n[2])}),Lt.set(!1)}}),pc=Qu("expand",()=>{h("web_app_expand")}),dc="web_app_request_fullscreen",Nd=he(be,Wr,dc),Ur=ye("isFullscreen"),[Vd,fc]=b(),[Rd,mc]=b();function hc(e,t){return Nd(e,N(n=>A(t?dc:"web_app_exit_fullscreen",[Mr,"fullscreen_failed"],n).then(r=>{if("error"in r&&r.error!=="ALREADY_FULLSCREEN")throw new _s(r.error);const o="is_fullscreen"in r?r.is_fullscreen:!0;o!==Ur()&&Pe({isFullscreen:o})}),"Fullscreen mode change is already being requested",{promise:Vd,error:Rd})[0])}const _c=hc("requestFullscreen",!0),bc=hc("exitFullscreen"),Hd=Object.freeze(Object.defineProperty({__proto__:null,bindCssVars:lc,changeFullscreenError:mc,changeFullscreenPromise:fc,contentSafeAreaInsetBottom:jr,contentSafeAreaInsetLeft:qr,contentSafeAreaInsetRight:Dr,contentSafeAreaInsetTop:Nr,contentSafeAreaInsets:kt,exitFullscreen:bc,expand:pc,height:$t,isCssVarsBound:cc,isExpanded:Ju,isFullscreen:Ur,isMounted:ac,isMounting:sc,isStable:Ku,mount:oc,mountError:ic,mountPromise:Fr,requestFullscreen:_c,safeAreaInsetBottom:Vr,safeAreaInsetLeft:Rr,safeAreaInsetRight:Hr,safeAreaInsetTop:Lr,safeAreaInsets:Mt,stableHeight:Ct,state:Or,unmount:uc,width:Ir},Symbol.toStringTag,{value:"Module"})),yc="web_app_request_emoji_status_access",[Ld,Fd,Wd]=N(e=>A(yc,"emoji_status_access_requested",e).then(t=>t.status),"Emoji status access request is already in progress"),Ud=C("requestEmojiStatusAccess",Ld,{isSupported:yc}),[,zd,Gd]=Fd,[,Qd]=Wd,gc="web_app_set_emoji_status",[Jd,Kd,Yd]=N((e,t)=>A(gc,["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:e,duration:(t||{}).duration},...t}).then(n=>{if(n&&"error"in n)throw new ms(n.error)}),"Emoji status set request is currently in progress"),Zd=C("setEmojiStatus",Jd,{isSupported:gc}),[,Xd,ef]=Kd,[,tf]=Yd,nf={isSupported:"web_app_add_to_home_screen"},vc="home_screen_failed",rf=C("onAddToHomeScreenFailed",(e,t)=>$(vc,e,t),{isSupported:"web_app_add_to_home_screen"}),of=C("offAddToHomeScreenFailed",e=>{x(vc,e)},nf),Ec={isSupported:"web_app_add_to_home_screen"},wc="home_screen_added",sf=C("onAddedToHomeScreen",(e,t)=>$(wc,e,t),Ec),af=C("offAddedToHomeScreen",e=>{x(wc,e)},Ec),bo="web_app_add_to_home_screen",uf=C("addToHomeScreen",()=>{h(bo)},{isSupported:bo}),Sc="web_app_check_home_screen",[cf,lf,pf]=N(e=>A(Sc,"home_screen_checked",e).then(t=>t.status||"unknown"),"Check home screen status request is currently in progress"),df=C("checkHomeScreenStatus",cf,{isSupported:Sc}),[,ff,mf]=lf,[,hf]=pf,_f=ne(),bf=_f("openLink",(e,t)=>{if(typeof e=="string")try{e=new URL(e)}catch(n){throw new F(`"${e.toString()}" is invalid URL`,n)}t||(t={}),h("web_app_open_link",{url:e.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})}),yo="web_app_open_tg_link",yf=ne(),$c=yf("openTelegramLink",e=>{const t=e.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new F(`"${t}" is invalid URL`);if(!ue(yo,se())){window.location.href=t;return}e=new URL(e),h(yo,{path_full:e.pathname+e.search})}),gf=ne(),vf=gf("shareURL",(e,t)=>{$c("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))});function Ef(e,t){return new T({abortSignal:t,timeout:e}).catch(()=>{})}const Cc="web_app_request_phone",[wf,Sf,$f]=N(e=>A(Cc,"phone_requested",e).then(t=>t.status),"Phone access request is currently in progress"),Ac=C("requestPhoneAccess",wf,{isSupported:Cc}),[,Cf,Af]=Sf,[,kf]=$f;async function go(e){const t=await me("getRequestedContact",{},{...e,timeout:(e||{}).timeout||5e3});return ut(Oe(pi([L(),ui(URLSearchParams)]),nr(an({contact:Oe(L(),Ki(),an({user_id:Wn(),phone_number:L(),first_name:L(),last_name:ci(L())})),auth_date:Oe(L(),Ln(n=>new Date(Number(n)*1e3)),Fn()),hash:L()}))),t)}const[Pf,Mf,xf]=N(e=>new T(async(t,n,r)=>{try{return t(await go(r))}catch(i){if(i instanceof sn)throw i}if(await Ac(r)!=="sent")throw new hs("User denied access");let s=50;for(;!r.isAborted();){try{return t(await go(r))}catch(i){if(i instanceof sn)throw i}await Ef(s),s+=50}},e),"Contact is already being requested"),Tf=C("requestContact",Pf,{isSupported:"web_app_request_phone"}),[,Bf,Of]=Mf,[,If]=xf,kc="web_app_request_write_access",[jf,qf,Df]=N(e=>A(kc,"write_access_requested",e).then(t=>t.status),"Write access request is currently in progress"),Nf=C("requestWriteAccess",jf,{isSupported:kc}),[,Vf,Rf]=qf,[,Hf]=Df,Lf=C("getCurrentTime",e=>me("getCurrentTime",{},e).then(t=>ut(Oe(Wn(),si(),Ln(n=>new Date(n*1e3)),Fn()),t)),{isSupported:"web_app_invoke_custom_method"}),vo="web_app_read_text_from_clipboard",Ff=C("readTextFromClipboard",e=>{const t=Mn();return A(vo,"clipboard_text_received",{...e,params:{req_id:t},capture:os(t)}).then(({data:n=null})=>n)},{isSupported:vo}),Wf=C("sendData",e=>{const{size:t}=new Blob([e]);if(!t||t>4096)throw new F(t?"Maximum size of data to send is 4096 bytes":"Attempted to send empty data");h("web_app_data_send",{data:e})},{isSupported(){return Pn().tgWebAppBotInline?void 0:"The application must be launched in the inline mode"}}),Eo="web_app_share_to_story",Uf=C("shareStory",(e,t)=>{t||(t={}),h(Eo,{text:t.text,media_url:e,widget_link:t.widgetLink})},{isSupported:Eo}),zf="web_app_switch_inline_query",Gf=C("switchInlineQuery",(e,t)=>{h(zf,{query:e,chat_types:t||[]})});function Qf(e){try{return[!0,e()]}catch(t){return[!1,t]}}function Jf(e){ps(e);const[t,n]=kn($("reload_iframe",()=>{Xt(!1,"Received a request to reload the page"),h("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:r=!0}=e||{};if(r){const o=document.createElement("style");o.id="telegram-custom-styles",document.head.appendChild(o),t($("set_custom_style",s=>{o.innerHTML=s}),()=>{document.head.removeChild(o)})}return h("iframe_ready",{reload_supported:!0}),Xt(!1,"The package was initialized"),n}exports.AccessDeniedError=hs;exports.CSSVarsBoundError=Xe;exports.ConcurrentCallError=fs;exports.FullscreenFailedError=_s;exports.FunctionUnavailableError=ve;exports.InvalidArgumentsError=F;exports.InvalidEnvError=Rl;exports.InvalidLaunchParamsError=Xo;exports.InvokeCustomMethodError=ts;exports.LaunchParamsRetrieveError=Zo;exports.MethodParameterUnsupportedError=Yo;exports.MethodUnsupportedError=Ko;exports.NotAvailableError=ds;exports.SetEmojiStatusError=ms;exports.UnknownEnvError=es;exports.addToHomeScreen=uf;exports.authenticateBiometry=Hs;exports.backButton=Ql;exports.bindMiniAppCssVars=Qa;exports.bindThemeParamsCssVars=Ta;exports.bindViewportCssVars=lc;exports.biometry=hp;exports.biometryAuthError=Fs;exports.biometryAuthPromise=Nn;exports.biometryMountError=Vs;exports.biometryState=xs;exports.changeFullscreenError=mc;exports.changeFullscreenPromise=fc;exports.checkHomeScreenStatus=df;exports.checkHomeScreenStatusError=hf;exports.checkHomeScreenStatusPromise=ff;exports.closeMiniApp=Ja;exports.closeQrScanner=cu;exports.closingBehavior=bp;exports.cloudStorage=Cp;exports.configure=ps;exports.createPostEvent=ss;exports.createRequestId=Mn;exports.deleteCloudStorageItem=Un;exports.disableClosingConfirmation=Zs;exports.disableVerticalSwipes=Wu;exports.emitEvent=Kt;exports.enableClosingConfirmation=Xs;exports.enableVerticalSwipes=Uu;exports.exitFullscreen=bc;exports.expandViewport=pc;exports.getCloudStorageItem=mi;exports.getCloudStorageKeys=zn;exports.getCurrentTime=Lf;exports.hapticFeedback=Ap;exports.hapticFeedbackImpactOccurred=bi;exports.hapticFeedbackNotificationOccurred=yi;exports.hapticFeedbackSelectionChanged=gi;exports.hideBackButton=ws;exports.hideSettingsButton=Iu;exports.ignoreCanceled=On;exports.init=Jf;exports.initData=Pp;exports.initDataAuthDate=Qn;exports.initDataCanSendAfter=Jn;exports.initDataCanSendAfterDate=wi;exports.initDataChat=Si;exports.initDataChatInstance=Ci;exports.initDataChatType=$i;exports.initDataHash=Ai;exports.initDataQueryId=ki;exports.initDataRaw=Pi;exports.initDataReceiver=Mi;exports.initDataStartParam=Ti;exports.initDataState=Ei;exports.initDataUser=Bi;exports.invoice=Ip;exports.invokeCustomMethod=me;exports.isAccessDeniedError=zl;exports.isAuthenticatingBiometry=Ls;exports.isBackButtonMounted=gs;exports.isBackButtonSupported=vs;exports.isBackButtonVisible=ys;exports.isBiometryAvailable=Ts;exports.isBiometryMounted=Rs;exports.isBiometryMounting=Ns;exports.isBiometrySupported=js;exports.isCSSVarsBoundError=Nl;exports.isCheckingHomeScreenStatus=mf;exports.isClosingBehaviorMounted=Rn;exports.isClosingConfirmationEnabled=Ks;exports.isCloudStorageSupported=fi;exports.isColorDark=or;exports.isConcurrentCallError=Wl;exports.isFullscreen=Ur;exports.isFullscreenFailedError=Gl;exports.isFunctionNotAvailableError=Ll;exports.isHapticFeedbackSupported=_i;exports.isInvalidArguments=Fl;exports.isInvalidEnvError=Hl;exports.isInvalidLaunchParamsError=El;exports.isInvoiceOpened=qi;exports.isInvoiceSupported=Oi;exports.isInvokeCustomMethodError=Sl;exports.isLaunchParamsRetrieveError=vl;exports.isMainButtonEnabled=ba;exports.isMainButtonLoaderVisible=ya;exports.isMainButtonMounted=ar;exports.isMainButtonVisible=ga;exports.isMethodMethodParameterUnsupportedError=yl;exports.isMethodUnsupportedError=bl;exports.isMiniAppActive=La;exports.isMiniAppCssVarsBound=Ra;exports.isMiniAppDark=Ha;exports.isMiniAppMounted=Xa;exports.isMiniAppMounting=Ya;exports.isMiniAppSupported=Wa;exports.isNotAvailableError=Vl;exports.isPopupOpened=su;exports.isPopupSupported=nu;exports.isQrScannerOpened=du;exports.isQrScannerSupported=lu;exports.isRGB=fe;exports.isRGBShort=Xi;exports.isRequestingBiometryAccess=zs;exports.isRequestingContact=Of;exports.isRequestingEmojiStatusAccess=Gd;exports.isRequestingPhoneAccess=Af;exports.isRequestingWriteAccess=Rf;exports.isSSR=en;exports.isSecondaryButtonEnabled=_u;exports.isSecondaryButtonLoaderVisible=bu;exports.isSecondaryButtonMounted=$r;exports.isSecondaryButtonSupported=Su;exports.isSecondaryButtonVisible=yu;exports.isSetEmojiStatusError=Ul;exports.isSettingEmojiStatus=ef;exports.isSettingsButtonMounted=Tu;exports.isSettingsButtonSupported=Bu;exports.isSettingsButtonVisible=xu;exports.isSwipeBehaviorMounted=Ru;exports.isSwipeBehaviorSupported=Hu;exports.isTMA=Yt;exports.isThemeParamsCssVarsBound=na;exports.isThemeParamsDark=ua;exports.isThemeParamsMounted=Ia;exports.isThemeParamsMounting=Ba;exports.isUnknownEnvError=wl;exports.isVerticalSwipesEnabled=Lu;exports.isViewportCssVarsBound=cc;exports.isViewportExpanded=Ju;exports.isViewportMounted=ac;exports.isViewportMounting=sc;exports.isViewportStable=Ku;exports.mainButton=ed;exports.mainButtonBackgroundColor=ha;exports.mainButtonHasShineEffect=_a;exports.mainButtonState=pt;exports.mainButtonText=va;exports.mainButtonTextColor=Ea;exports.miniApp=dd;exports.miniAppBackgroundColor=Da;exports.miniAppBackgroundColorRGB=ft;exports.miniAppBottomBarColor=Na;exports.miniAppBottomBarColorRGB=mt;exports.miniAppHeaderColor=Va;exports.miniAppHeaderColorRGB=fr;exports.miniAppMountError=Za;exports.miniAppMountPromise=br;exports.miniAppReady=eu;exports.miniAppState=hr;exports.mockTelegramEnv=kl;exports.mountBackButton=Ss;exports.mountBiometry=Ds;exports.mountBiometryPromise=Dn;exports.mountClosingBehavior=ei;exports.mountMainButton=Sa;exports.mountMiniApp=Ka;exports.mountSecondaryButton=$u;exports.mountSettingsButton=ju;exports.mountSwipeBehavior=zu;exports.mountThemeParams=pr;exports.mountViewport=oc;exports.off=x;exports.offAddToHomeScreenFailed=of;exports.offAddedToHomeScreen=af;exports.offBackButtonClick=Cs;exports.offMainButtonClick=Ca;exports.offSecondaryButtonClick=Au;exports.offSettingsButtonClick=Du;exports.on=$;exports.onAddToHomeScreenFailed=rf;exports.onAddedToHomeScreen=sf;exports.onBackButtonClick=$s;exports.onMainButtonClick=$a;exports.onSecondaryButtonClick=Cu;exports.onSettingsButtonClick=qu;exports.openBiometrySettings=Ws;exports.openInvoice=Ii;exports.openInvoiceError=Di;exports.openInvoicePromise=ji;exports.openLink=bf;exports.openPopup=ru;exports.openPopupError=iu;exports.openPopupPromise=ou;exports.openQrScanner=pu;exports.openQrScannerError=fu;exports.openQrScannerPromise=Sr;exports.openTelegramLink=$c;exports.parseInitDataQuery=Jp;exports.parseLaunchParamsQuery=Kp;exports.popup=yd;exports.postEvent=h;exports.qrScanner=Cd;exports.readTextFromClipboard=Ff;exports.request=A;exports.requestBiometry=Bs;exports.requestBiometryAccess=Us;exports.requestBiometryAccessError=Gs;exports.requestBiometryAccessPromise=Vn;exports.requestContact=Tf;exports.requestContactError=If;exports.requestContactPromise=Bf;exports.requestContentSafeAreaInsets=mn;exports.requestEmojiStatusAccess=Ud;exports.requestEmojiStatusAccessError=Qd;exports.requestEmojiStatusAccessPromise=zd;exports.requestFullscreen=_c;exports.requestPhoneAccess=Ac;exports.requestPhoneAccessError=kf;exports.requestPhoneAccessPromise=Cf;exports.requestSafeAreaInsets=hn;exports.requestViewport=Xu;exports.requestWriteAccess=Nf;exports.requestWriteAccessError=Hf;exports.requestWriteAccessPromise=Vf;exports.restoreInitData=xi;exports.retrieveLaunchParams=Ze;exports.retrieveRawInitData=rs;exports.retrieveRawLaunchParams=An;exports.safeCall=Qf;exports.secondaryButton=kd;exports.secondaryButtonBackgroundColor=mu;exports.secondaryButtonHasShineEffect=hu;exports.secondaryButtonPosition=gu;exports.secondaryButtonState=bt;exports.secondaryButtonText=vu;exports.secondaryButtonTextColor=Eu;exports.sendData=Wf;exports.serializeInitDataQuery=ta;exports.serializeLaunchParamsQuery=Yp;exports.serializeToQuery=rr;exports.setCloudStorageItem=hi;exports.setDebug=ql;exports.setEmojiStatus=Zd;exports.setEmojiStatusError=tf;exports.setEmojiStatusPromise=Xd;exports.setMainButtonParams=Aa;exports.setMiniAppBackgroundColor=yr;exports.setMiniAppBottomBarColor=gr;exports.setMiniAppHeaderColor=vr;exports.setSecondaryButtonParams=ku;exports.settingsButton=Pd;exports.shareStory=Uf;exports.shareURL=vf;exports.showBackButton=As;exports.showSettingsButton=Nu;exports.supports=ue;exports.swipeBehavior=xd;exports.switchInlineQuery=Gf;exports.targetOrigin=ns;exports.themeParams=Td;exports.themeParamsAccentTextColor=oa;exports.themeParamsBackgroundColor=ct;exports.themeParamsBottomBarBgColor=ir;exports.themeParamsButtonColor=lt;exports.themeParamsButtonTextColor=sr;exports.themeParamsDestructiveTextColor=sa;exports.themeParamsHeaderBackgroundColor=ia;exports.themeParamsHintColor=aa;exports.themeParamsLinkColor=ca;exports.themeParamsMountError=Oa;exports.themeParamsMountPromise=dr;exports.themeParamsSecondaryBackgroundColor=qe;exports.themeParamsSectionBackgroundColor=la;exports.themeParamsSectionHeaderTextColor=pa;exports.themeParamsSectionSeparatorColor=da;exports.themeParamsState=ra;exports.themeParamsSubtitleTextColor=fa;exports.themeParamsTextColor=ma;exports.toRGB=ea;exports.transformQueryUsing=nr;exports.unmountBackButton=ks;exports.unmountBiometry=Qs;exports.unmountClosingBehavior=ti;exports.unmountMainButton=ka;exports.unmountMiniApp=tu;exports.unmountSecondaryButton=Pu;exports.unmountSettingsButton=Vu;exports.unmountSwipeBehavior=Gu;exports.unmountThemeParams=ja;exports.unmountViewport=uc;exports.updateBiometryToken=Js;exports.viewport=Hd;exports.viewportContentSafeAreaInsetBottom=jr;exports.viewportContentSafeAreaInsetLeft=qr;exports.viewportContentSafeAreaInsetRight=Dr;exports.viewportContentSafeAreaInsetTop=Nr;exports.viewportContentSafeAreaInsets=kt;exports.viewportHeight=$t;exports.viewportMountError=ic;exports.viewportMountPromise=Fr;exports.viewportSafeAreaInsetBottom=Vr;exports.viewportSafeAreaInsetLeft=Rr;exports.viewportSafeAreaInsetRight=Hr;exports.viewportSafeAreaInsetTop=Lr;exports.viewportSafeAreaInsets=Mt;exports.viewportStableHeight=Ct;exports.viewportState=Or;exports.viewportWidth=Ir;exports.wrapSafe=C;
//# sourceMappingURL=index.cjs.map
